/* Copyright (C) 2012-2014 NS Solutions Corporation. Licensed under the Apache License, Version 2.0. hifive version 1.1.10 gitCommitId 673360849a8d1098546a97f35dce21c9bdb36a26 (util,controller,modelWithBinding,view,ui,api.geo,api.sqldb,api.storage) */
(function(b){function c(b,c,l){var v=null,y=$a[b],H=fb[b];H&&(v=H(b,y,c,l));!v&&y&&(v=f.u.str.format.apply(null,[y].concat(c)));v&&(v+="(code="+b+")");c=v?Error(v):Error("FwError: code = "+b);b&&(c.code=b);l&&(c.detail=l);throw c;}function X(b,c,l){var v=null,y=$a[b];y&&(c=[y].concat(c),v=f.u.str.format.apply(null,c));return{code:b,message:v,detail:l}}function K(h){return null==h?h:b.isArray(h)?h:[h]}function aa(b){var c=document.createElement("span");c.innerHTML='<a href="'+b+'" />';return c.firstChild.href}
function x(b){return"string"===typeof b}function Da(b){return b.isRejected?b.isRejected():"rejected"===b.state()}function Ea(b){return b.isResolved?b.isResolved():"resolved"===b.state()}function ja(b){return!x(b)?!1:!!b.match(/^[A-Za-z_\$][\w|\$]*$/)}function ga(c){if("regexp"===b.type(c))return c;var f="",f=-1!==c.indexOf("*")?b.map(c.split("*"),function(b){return b.replace(/\W/g,"\\$&")}).join(".*"):c;return RegExp("^"+f+"$")}function sa(b,c,f){b&&(b._h5UnwrappedCall?b._h5UnwrappedCall(c,f):b[c](f))}
function W(c,f,l,v){return c[b.hasOwnProperty("curCSS")?"pipe":"then"](f,l,v)}function P(b){return typeof b.nodeType===da?b.document&&b.document.nodeType===Fa&&Q(b.document)===b?b.document:null:b.nodeType===Fa?b:b.ownerDocument}function Q(b){return b.defaultView||b.parentWindow}var ab=void 0;if(window.h5){if(window.h5.env&&"1.1.10"===window.h5.env.version)return;ab=window.h5}var f={};window.h5=f;f.coexist=function(){window.h5=ab;return f};f.env={version:"1.1.10"};var $a={},fb={},da="undefined",R=
1,Fa=9,bb={controllerInternal:null},cb;(function(){function h(b){switch(b){case "string":return"s";case "number":return"n";case "boolean":return"b";case "String":return"S";case "Number":return"N";case "Boolean":return"B";case "infinity":return"i";case "-infinity":return"I";case "nan":return"x";case "date":return"d";case "regexp":return"r";case "array":return"a";case "object":return"o";case "null":return"l";case u:return"u";case "undefElem":return"_";case "objElem":return"@"}}function A(b,a){if(x(b)){var d=
b;a&&(d=d.replace(/\\n/g,"\n").replace(/\\r/g,"\r"));return d=d.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}return b instanceof String?new String(A(b.toString())):b}function l(b,a){return"1"===a?b:x(b)?b.replace(/\\\\/g,"\\-").replace(/\\b/g,"").replace(/\\f/g,"").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\-/g,"\\"):b instanceof String?new String(l(b.toString())):b}function v(b,a,
d){var e=f.async.deferred();f.ajax({url:b,async:a,cache:d,dataType:"script",converters:{"text script":function(b){return b}}}).done(function(){var b=C(arguments);b.push(this.url);e.notifyWith(e,b);e.resolveWith(e,b)}).fail(function(){e.rejectWith(e,C(arguments))});return e.promise()}function y(b){x(b)||c(o,"h5.u.obj.ns()");for(var b=b.split("."),a=b.length,d=0;d<a;d++)ja(b[d])||c(o,"h5.u.obj.ns()");for(var e=window,d=0;d<a;d++){var F=b[d];void 0===e[F]&&(e[F]={});e=e[F]}return e}function H(b,a){var d=
y(b),e;for(e in a)a.hasOwnProperty(e)&&(void 0!==d[e]&&c(i,[b,e]),d[e]=a[e])}function w(a){return!a||!a.jquery?!1:a.jquery===b().jquery}function C(b){return Array.prototype.slice.call(b)}var u="undefined",o=11E3,i=11001,G=11004,m=11005,q=11006,t={},d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;","'":"&#39;"},a=void 0!==document.createElement("script").onload,k=-1===/\r\n/.toString().indexOf("\r\n");H("h5.u",{loadScript:function(d,o){var k=f.async.deferred,e=K(d);(!e||0===e.length)&&c(11007);for(var F=
0,m=e.length;F<m;F++)d=e[F],(!x(d)||!b.trim(d))&&c(11007);null!=o&&!b.isPlainObject(o)&&c(11008,"h5.u.loadScript()");var s=o&&!1===o.async?!1:!0,U=!!(o&&!0===o.force),F=!!(o&&!0===o.parallel),h=!!(o&&!0===o.atomic),q=!U,l=s?k():null,i=s?function(b){l.reject(X(11010,[b]))}:null,m=s?function(){var b=k();setTimeout(function(){b.resolve([])},0);return b.promise()}:null,y=F?[]:null,u=[],w={};if(s){if(!h&&a){var A=b("head"),H=function(b){var e=k(),a=document.createElement("script");a.onload=function(){a.onload=
null;t[b]=b;e.resolve()};a.onerror=function(){a.onerror=null;e.reject(b)};a.type="text/javascript";a.src=q?b:b+(-1<b.indexOf("?")?"&_":"?_")+ +new Date;A[0].appendChild(a);return e.promise()};if(F)y.push(m()),b.each(e,function(){var b=aa(this);if(!U&&b in t)return!0;y.push(H(b))}),f.async.when(y).done(function(){l.resolve()}).fail(i);else{var G=W(k().resolve(),m);b.each(e,function(){var b=aa(this);G=W(G,function(){if(U||!(b in t))return H(b)},i)});W(G,function(){l.resolve()},i)}}else if(F){var p=
[];y.push(m());p.push(null);b.each(e,function(){var b=aa(this);if(!U&&(b in t||b in w))return!0;y.push(v(b,s,q));h?w[b]=b:p.push(null)});F=e=null;h?(e=function(){b.each(C(arguments),function(e,a){b.globalEval(a[0])});b.extend(t,w);l.resolve()},F=b.noop):(e=function(){l.resolve()},F=function(){for(var e=C(arguments),a=0;a<p.length;a++)if(e[a]){var d=e[a][3];p[a]!==d&&(b.globalEval(e[a][0]),p.splice(a,1,d))}});f.async.when(y).done(e).fail(i).progress(F)}else G=W(k().resolve(),m),b.each(e,function(){var e=
aa(this);G=W(G,function(){var a=k();!U&&(e in t||e in w)?a.resolve():v(e,s,q).done(function(d){h?(u.push(d),w[e]=e):(b.globalEval(d),t[e]=e);a.resolve()}).fail(function(){a.reject(this.url)});return a.promise()},i)}),W(G,function(){h&&(b.each(u,function(e,a){b.globalEval(a)}),b.extend(t,w));l.resolve()},i);return l.promise()}b.each(e,function(){var e=aa(this);if(!U&&(e in t||e in w))return!0;v(e,s,q).done(function(a){h?(u.push(a),w[e]=e):(b.globalEval(a),t[e]=e)}).fail(function(){c(11010,[e])})});
h&&(b.each(u,function(e,a){b.globalEval(a)}),b.extend(t,w))},createInterceptor:function(a,d){return function(c){var e={},o=a?a.call(this,c,e):c.proceed();c.result=o;if(!d)return o;if(o&&b.isFunction(o.promise)&&!w(o)){var k=this;sa(o,"always",function(){d.call(k,c,e)});return o}d.call(this,c,e);return o}}});H("h5.u.str",{startsWith:function(b,a){return 0===b.lastIndexOf(a,0)},endsWith:function(b,a){var d=b.length-a.length;return 0<=d&&b.lastIndexOf(a)===d},format:function(b,a){if(null==b)return"";
var d=arguments;return b.replace(/\{(\d+)\}/g,function(b,a){var o=d[parseInt(a,10)+1];return typeof o===u?u:o})},escapeHtml:function(a){return"string"!==b.type(a)?a:a.replace(/[&"'<>]/g,function(b){return d[b]})}});H("h5.u.obj",{expose:H,ns:y,serialize:function(a){function d(b){for(var a=0,e=F.length;a<e;a++)if(b===F[a])return!0;return!1}function o(b){for(var a=0,e=F.length;a<e;a++)b===F[a]&&F.splice(a,1)}function e(a){var s=a,g=b.type(a);"object"===typeof a&&(a instanceof String?g="String":a instanceof
Number?g="Number":a instanceof Boolean&&(g="Boolean"));switch(g){case "String":case "string":s=h(g)+A(s);break;case "Boolean":s=s.valueOf();case "boolean":s=h(g)+(s?1:0);break;case "Number":s=s.valueOf();if(b.isNaN&&b.isNaN(a)||b.isNumeric&&!b.isNumeric(a))s=Infinity===a.valueOf()?h("infinity"):-Infinity===a.valueOf()?h("-infinity"):h("nan");s=h(g)+s;break;case "number":s=b.isNaN&&b.isNaN(a)||b.isNumeric&&!b.isNumeric(a)?Infinity===a?h("infinity"):-Infinity===a?h("-infinity"):h("nan"):h(g)+s;break;
case "regexp":s=h(g)+A(s.toString(),k);break;case "date":s=h(g)+ +s;break;case "array":d(a)&&c(ERR_CODE_REFERENCE_CYCLE);F.push(a);for(var f=[],s=h(g)+"[",g=0,v=a.length;g<v;g++){f[g.toString()]=!0;var t;t=a.hasOwnProperty(g)?"function"===b.type(a[g])?h(u):e(a[g]).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):h("undefElem");s+='"'+t+'"';g!==a.length-1&&(s+=",")}var g="",q;for(q in a)f[q]||"function"!==b.type(a[q])&&(g+='"'+A(q)+'":"'+e(a[q]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');g&&(s+=(a.length?
",":"")+'"'+h("objElem")+"{"+g.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),s=s.replace(/,$/,""),s+='}"');s+="]";o(a);break;case "object":d(a)&&c(m);F.push(a);s=h(g)+"{";for(q in a)a.hasOwnProperty(q)&&"function"!==b.type(a[q])&&(s+='"'+q+'":"'+e(a[q]).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'",');s=s.replace(/,$/,"");s+="}";o(a);break;case "null":case u:s=h(g)}return s}b.isFunction(a)&&c(11002);var F=[];return"2|"+e(a)},deserialize:function(a){function d(a){function k(b){switch(b){case "s":return"string";
case "n":return"number";case "b":return"boolean";case "S":return"String";case "N":return"Number";case "B":return"Boolean";case "i":return"infinity";case "I":return"-infinity";case "x":return"nan";case "d":return"date";case "r":return"regexp";case "a":return"array";case "o":return"object";case "l":return"null";case "u":return u;case "_":return"undefElem";case "@":return"objElem"}}a.match(/^(.)(.*)/);a=RegExp.$1;e=RegExp.$2?RegExp.$2:"";if(void 0!==a&&""!==a)switch(k(a)){case "String":e=new String(l(e,
o));break;case "string":break;case "Boolean":"0"===e||"1"===e?e=new Boolean("1"===e):c(q);break;case "boolean":"0"===e||"1"===e?e="1"===e:c(q);break;case "nan":""!==e&&c(q);e=NaN;break;case "infinity":""!==e&&c(q);e=Infinity;break;case "-infinity":""!==e&&c(q);e=-Infinity;break;case "Number":"infinity"===k(e)?e=new Number(Infinity):"-infinity"===k(e)?e=new Number(-Infinity):"nan"===k(e)?e=new Number(NaN):(e=new Number(e),isNaN(e.valueOf())&&c(q));break;case "number":e=(new Number(e)).valueOf();isNaN(e)&&
c(q);break;case "array":var g;try{g=b.parseJSON(e)}catch(m){c(q)}b.isArray(g)||c(q);for(var f=0;f<g.length;f++)switch(k(g[f].substring(0,1))){case "undefElem":delete g[f];break;case "objElem":for(var v=d(h("object")+g[f].substring(1)),a=[],f=0,t=g.length-1;f<t;f++)a[f]=g[f];g=a;for(var i in v)g[i]=v[i];break;default:g[f]=d(g[f])}e=g;break;case "object":try{g=b.parseJSON(e)}catch(y){c(q)}b.isPlainObject(g)||c(q);for(i in g)g[i]=d(g[i]);e=g;break;case "date":e=new Date(parseInt(e,10));break;case "regexp":try{f=
e.match(/^\/(.*)\/(.*)$/),v=l(f[1],o),e=RegExp(v,f[2])}catch(w){c(q)}break;case "null":""!==e&&c(q);e=null;break;case u:""!==e&&c(q);e=void 0;break;default:c(G)}return l(e,o)}x(a)||c(11009);a.match(/^(.)\|(.*)/);var o=RegExp.$1;"1"!==o&&"2"!==o&&c(11003,[o,"2"]);var e=RegExp.$2;return d(e)},isJQueryObject:w,argsToArray:C,getByPath:function(b,a){x(b)||c(o,"h5.u.obj.getByPath()");var d=b.split(".");!a&&"window"===d[0]&&d.unshift();for(var e=a||window,k=0,m=d.length;k<m&&!(e=e[d[k]],null==e);k++);return e}})})();
(function(){function h(b,c){b.target||(b.target=c);b.timeStamp||(b.timeStamp=(new Date).getTime());if(!b.isDefaultPrevented){var f=!1;b.isDefaultPrevented=function(){return f};b.preventDefault=function(){f=true}}if(!b.isImmediatePropagationStopped){var h=!1;b.isImmediatePropagationStopped=function(){return h};b.stopImmediatePropagation=function(){h=true}}}function A(c){var h={},l;for(l in c){var w=c[l];if(c.hasOwnProperty(l)&&(b.isFunction(w)||null===w||"string"===typeof w||"number"===typeof w||"boolean"===
typeof w))h[l]=w}this._mix=function(b){for(var c in h)b[c]=h[c]};this._hasInterface=function(b){for(var c in h)if(!f.u.str.startsWith(c,"_")&&void 0===b[c])return!1;return!0}}function l(b){return new A(b)}b.extend(A.prototype,{mix:function(b){return this._mix(b)},hasInterface:function(b){return this._hasInterface(b)}});f.u.obj.expose("h5.mixin",{createMixin:l,eventDispatcher:l({hasEventListener:function(b,c){if(!this._eventListeners)return!1;var f=this._eventListeners[b];if(!f||!this._eventListeners.hasOwnProperty(b))return!1;
for(var h=0,l=f.length;h<l;h++)if(f[h]===c)return!0;return!1},addEventListener:function(b,f){(2!==arguments.length||!x(b))&&c(16E3);null==f||this.hasEventListener(b,f)||(this._eventListeners||(this._eventListeners={}),this._eventListeners.hasOwnProperty(b)||(this._eventListeners[b]=[]),this._eventListeners[b].push(f))},removeEventListener:function(b,c){if(this.hasEventListener(b,c))for(var f=this._eventListeners[b],h=0,l=f.length;h<l;h++)if(f[h]===c){f.splice(h,1);break}},dispatchEvent:function(c){if(this._eventListeners){var f=
this._eventListeners[c.type];if(f){f=f.slice(0);h(c,this);for(var l=0,w=f.length;l<w&&!c.isImmediatePropagationStopped();l++)b.isFunction(f[l])?f[l].call(c.target,c):f[l].handleEvent&&f[l].handleEvent(c);return c.isDefaultPrevented()}}}})})})();(function(){var h,A,l,v,y,H,w;function C(b){return b.match(/^error$/i)?h:b.match(/^warn$/i)?A:b.match(/^info$/i)?l:b.match(/^debug$/i)?v:b.match(/^trace$/i)?y:b.match(/^all$/i)?H:b.match(/^none$/i)?w:null}function u(a,d){var c={};if(b.isArray(a)){var o=a.slice(0,
3).join(" <- ");0<a.slice(3).length&&(o+=" ...");c.recent=o;c.all=d.join("\n")}else c.recent=a,c.all=d;return c}function o(b){var a="";b.name?a=b.name:(/^\s*function\s*([\w\-\$]+)?\s*\(/i.test(b.toString()),a=RegExp.$1);return a}function i(a){for(var a=f.u.obj.argsToArray(a),d=[],c=0,o=a.length;c<o;c++)d.push(b.type(a[c]));return d.join(", ")}function G(){}function m(e){(!x(e)||0===b.trim(e).length)&&c(a);this.category=b.trim(e)}var q=10002,t=10003,d=10004,a=10005,k=10007,g=10008,I=10010;h=50;A=40;
l=30;v=20;y=10;H=0;w=-1;var B=null;G.prototype={init:function(){},log:function(b){window.console&&(x(b.args[0])?this._logMsg(b):this._logObj(b))},_logMsg:function(b){var a=b.args,d=null,d=1===a.length?a[0]:f.u.str.format.apply(f.u.str,a),a=this._getLogPrefix(b)+d;b.logger.enableStackTrace&&(a+="  ["+b.stackTrace.recent+"]");b.logger.enableStackTrace&&console.groupCollapsed?console.groupCollapsed(a):this._consoleOut(b.level,a);b.logger.enableStackTrace&&this._consoleOut(b.level,b.stackTrace.all);b.logger.enableStackTrace&&
console.groupEnd&&console.groupEnd()},_consoleOut:function(b,a){var d=!1;b==h&&console.error?(console.error(a),d=!0):b==A&&console.warn?(console.warn(a),d=!0):b==l&&console.info?(console.info(a),d=!0):b==v&&console.debug&&(console.debug(a),d=!0);!d&&console.log&&console.log(a)},_getLogPrefix:function(b){return"["+b.levelString+"]"+b.date.getHours()+":"+b.date.getMinutes()+":"+b.date.getSeconds()+","+b.date.getMilliseconds()+": "},_logObj:function(b){var a=b.args,d=this._getLogPrefix(b);a.unshift(d);
b.level==h&&console.error?this._output(console.error,a):b.level==A&&console.warn?this._output(console.warn,a):b.level==l&&console.info?this._output(console.info,a):b.level==v&&console.debug?this._output(console.debug,a):this._output(console.log,a)},_output:function(b,a){try{if(b.apply){b.apply(console,a);return}}catch(d){}b(a)}};m.prototype={enableStackTrace:!1,maxStackSize:10,error:function(b){this._log(h,arguments,this.error)},warn:function(b){this._log(A,arguments,this.warn)},info:function(b){this._log(l,
arguments,this.info)},debug:function(b){this._log(v,arguments,this.debug)},trace:function(b){this._log(y,arguments,this.trace)},_traceFunctionName:function(a){var d=Error(),c=d.stack||d.stacktrace,d=[],g={};if(c)var d=c.replace(/\r\n/,"\n").replace(/at\b|@|Error\b|\t|\[arguments not available\]/ig,"").replace(/(http|https|file):.+[0-9]/g,"").replace(/ +/g," ").split("\n"),f=null,d=b.map(d,function(a){return f=0===a.length?null:""===b.trim(a)?"{anonymous}":b.trim(a)}),g=u(d.slice(3,d.length),d.slice(0,
this.maxStackSize));else{c=null;try{c=a.caller}catch(k){}a=0;if(c)for(;;){var m=i(c.arguments),h=o(c),q=null;try{q=c.caller}catch(l){d.push("{unable to trace}");g=u(d,d);break}h?d.push("{"+h+"}("+m+")"):q?d.push("{anonymous}("+m+")"):d.push("{root}("+m+")");if(!q||a>=this.maxStackSize){g=u(d,d);break}c=q;a++}else g=u("{unable to trace}","{unable to trace}")}return g},_log:function(b,a,d){var a={level:b,args:f.u.obj.argsToArray(a),stackTrace:this.enableStackTrace?this._traceFunctionName(d):""},c=B.out,
o=B.defaultOut,d=null;if(c)for(var c=K(c),g=0,k=c.length;g<k;g++){var m=c[g];if(m.compiledCategory.test(this.category)){d=m;break}}d||(d=o);g=d.compiledLevel;d=d.compiledTargets;if(!(b<g||0>g))if(a.logger=this,a.date=new Date,a.levelString=this._levelToString(b),d&&0!==d.length){g=0;for(k=d.length;g<k;g++)d[g].log(a)}},_levelToString:function(b){if(b===h)return"ERROR";if(b===A)return"WARN";if(b===l)return"INFO";if(b===v)return"DEBUG";if(b===y)return"TRACE"}};f.u.obj.expose("h5.log",{createLogger:function(b){return new m(b)},
configure:function(){function a(e,f,h){var l=null==h;if(!l){var i=f.category;(!x(i)||0===b.trim(i).length)&&c(I);i=b.trim(i);-1!==b.inArray(i,m)&&c(q,f.category);f.compiledCategory=ga(i);m.push(i)}i=null==f.level?C(l?o.level:h.level):x(f.level)?C(b.trim(f.level)):f.level;"number"!==typeof i&&c(t,f.level);f.compiledLevel=i;var i=[],s=f.targets;if(!l||null!=s){var p=[];null==s||b.isArray(s)||x(s)&&b.trim(s).length||c(g);for(var s=K(s),J=0,M=s.length;J<M;J++){null==s[J]||x(s[J])&&b.trim(s[J]).length||
c(g);var r=s[J];if(r){-1!==b.inArray(r,p)&&c(k,r);var O=e[r];O||c(d,r);p.push(r);i.push(O.compiledTarget)}}if(!l&&(e=h.targets,null!=e)){e=K(e);J=0;for(M=e.length;J<M;J++)r=e[J],-1===b.inArray(r,p)&&(i.push(h.compiledTargets[J]),p.push(r))}}f.compiledTargets=i}var o={level:"NONE",targets:null},m=[],h=b.extend(!0,{},f.settings.log?f.settings.log:{defaultOut:o}),l=h.target;l||(l={},h.target=l);(function(a){b.isPlainObject(a)||c(10009);for(var d in a){var e=a[d];b.type(e.type)!=="object"&&e.type!=="console"&&
c(1E4);var o=null,o=e.type==="console"?new G:b.extend(true,{},e.type);o.init&&o.init(e);e.compiledTarget=o}a.console={type:"console",compiledTarget:new G}})(l);var i=h.defaultOut;i||(i=o,h.defaultOut=i);a(l,i);var v=h.out;if(v)for(var v=K(v),u=0,w=v.length;u<w;u++)a(l,v[u],i);B=h}})})();(function(){function c(h){f.settings.aspects=b.map(K(h),function(b){b.target&&(b.compiledTarget=ga(b.target));b.pointCut&&(b.compiledPointCut=ga(b.pointCut));return b})}f.u.obj.ns("h5.settings");f.settings={commonFailHandler:null,
aspects:null,log:null,listenerElementType:1,dynamicLoading:{retryCount:3,retryInterval:500},ajax:{retryCount:0,retryInterval:500,retryFilter:function(b){b=b.status;if("POST"===this.type||!(0===b||12029===b))return!1}},trackstartTouchAction:"none"};var A=f.u.createInterceptor(function(b,c){this.log.info("{0}.{1}が開始されました。",this.__name,b.funcName);this.log.info(b.args);c.start=new Date;return b.proceed()},function(b,c){var f=(new Date).getTime()-c.start.getTime();this.log.info("{0}.{1}が終了しました。 Time={2}ms",
this.__name,b.funcName,f)});f.u.obj.expose("h5.core.interceptor",{lapInterceptor:A,logInterceptor:A,errorInterceptor:function(c){var h=null;try{h=c.proceed()}catch(A){f.settings.commonFailHandler&&b.isFunction(f.settings.commonFailHandler)&&f.settings.commonFailHandler.call(null,A)}return h}});b(document).trigger("h5preinit");f.settings.aspects&&c(f.settings.aspects);f.log.configure()})();(function(){f.u.obj.expose("h5.env",{ua:function(c){function f(b,a){var d=F(b,"[^;)]*",a).split(" ");return 1===
d.length?"":d[d.length-1]}function l(b,a){var d=F(b,"[^;) ]*",a).split("/");return 1===d.length?"":d[d.length-1]}function v(b,a){var d=F(b,"[^;) ]*",a).split(":");return 1===d.length?"":d[d.length-1]}var y=!!c.match(/iPhone/i),x=!!c.match(/iPad/i),w=y||x,C=!!c.match(/android/i),u=!!c.match(/Windows Phone/i),o=!!c.match(/MSIE/)||!!c.match(/Trident/),i=!!c.match(/Firefox/i),G=!!c.match(/Chrome/i)||!!c.match(/CrMo/)||!!c.match(/CriOS/),m=!C&&!!c.match(/Safari/i)&&!G,q=!!c.match(/Webkit/i),t=!!c.match(/Opera/i),
d=C&&!!c.match(/Safari/i)&&!G,a=!(!y&&!u&&!(d&&c.match(/Mobile/)&&!c.match(/SC-01C/)||C&&G&&c.match(/Mobile/)||c.match(/Fennec/i)||c.match(/Opera Mobi/i))),k=!(!x&&!(d&&!c.match(/Mobile/)||C&&G&&!c.match(/Mobile/)||c.match(/SC-01C/)||c.match(/Fennec/i)||c.match(/Opera Tablet/i))),g=!a&&!k,I=null,B=null,e=function(a,d){return b.trim(c.substring(c.indexOf(a)+a.length,c.indexOf(d))).split("_")},F=function(a,d,e){return b.trim(c.match(!1===e?RegExp(a+d):RegExp(a+d,"i")))};if(y)B=e("iPhone OS","like"),
I=parseInt(B[0]),B=B.join(".");else if(x)B=e("CPU OS","like"),I=parseInt(B[0]),B=B.join(".");else if(!C||!i)C?(B=f("Android"),I=parseInt(B.split(".")[0])):u&&((B=f("Windows Phone OS"))||(B=f("Windows Phone")),I=parseInt(B.split(".")[0]));o&&t&&(o=!1);var S=e=null;if(w||C&&d)e=I,S=B;else{var s=null;o?s=f("MSIE",!1)||v("rv"):G?(s=l("Chrome",!1))||(s=l("CrMo",!1)):m?s=l("Version"):i?s=l("Firefox"):t&&((s=l("Version"))||(s=l("Opera")),s||(s=f("Opera")));s&&(e=parseInt(s.split(".")[0]),S=s)}return{osVersion:I,
osVersionFull:B,browserVersion:e,browserVersionFull:S,isiPhone:y,isiPad:x,isiOS:w,isAndroid:C,isWindowsPhone:u,isIE:o,isFirefox:i,isChrome:G,isSafari:m,isOpera:t,isAndroidDefaultBrowser:d,isSmartPhone:a,isTablet:k,isDesktop:g,isWebkit:q}}(navigator.userAgent)})})();(function(){function h(c){function f(){h=!0;m=this;q=w(arguments);if(Da(c)||Ea(c))return c;var d=w(arguments);if(0<l.length)for(var a=0,k=l.length;a<k;a++){var g=d;g!==arguments&&(g=K(g));b.isFunction(l[a])&&l[a].apply(this,g)}return c}
var h=!1,m=null,q=null,l=[];c.progress=function(){for(var d=w(arguments),a=0,f=d.length;a<f;a++){var g=d[a];if(b.isArray(g))c.progress.apply(this,g);else if(b.isFunction(g))if(h){var i=q;i!==q&&(i=K(i));g.apply(m,i)}else l.push(g)}return this};c.notify=f;c.notifyWith=function(b,a){return!a?f.apply(b):f.apply(b,a)}}function A(c){if(!c)return!1;for(var c=K(c),f=0,h=c.length;f<h;f++)if(b.isFunction(c[f]))return!0;return!1}function l(c,i){function C(b){i?i[b]&&(c[b]=i[b]):(g[b]=c[b],c[b]=function(){return function(){if(!a){var d=
w(arguments);if("then"===b||"pipe"===b)d=d[1];A(d)&&(a=!0)}return c._h5UnwrappedCall.call(this,b,w(arguments))}}(b),I[b]=c[b])}function m(b){return function(){var d=f.settings.commonFailHandler;!a&&d&&!k&&(c.fail.call(this,d),k=!0);return b.apply(this,arguments)}}if(c._h5UnwrappedCall)return c;var q=!!c.progress,t=b.Deferred(),d=t!==t.then();!q&&!u(c)?h(c):i&&(c.progress=i.progress);var a=!1,k=!1,g={},I={};c._h5UnwrappedCall=i?i._h5UnwrappedCall:function(a,d){d=K(d);b.extend(c,g);var e=c[a].apply(this,
d);b.extend(c,I);return e};for(var t=0,B=v.length;t<B;t++){var e=v[t];c[e]&&C(e)}c.pipe&&!i&&(c.pipe=function(){for(var a=f.async.deferred(),c=w(arguments),d=0,e=y.length;d<e;d++){var g=this;(function(d,c,e){if(b.isFunction(d))g[c](function(){var c=d.apply(this,arguments);if(c&&b.isFunction(c.promise)){l(c);c.done(a.resolve);c._h5UnwrappedCall("fail",a.reject);b.isFunction(c.progress)&&c.progress(a.notify)}else a[e+"With"](this,[c])})})(c[d],y[d],x[d])}return a.promise()},I.pipe=c.pipe);if(c.then&&
!i){var F=c.then;c.then=function(){if(d)return I.pipe.apply(this,arguments);var b=arguments,a=F.apply(this,b);!q&&A(b[2])&&c.progress.call(c,b[2]);return a};I.then=c.then}c.reject&&(c.reject=i&&i.reject?i.reject:m(c.reject));c.rejectWith&&(c.rejectWith=i&&i.rejectWith?i.rejectWith:m(c.rejectWith));if(c.promise)if(i&&i.promise)c.promise=i.promise;else{var S=c.promise;c.promise=function(){return l(S.apply(this,arguments),c)}}return c}var v=["fail","always","pipe","then"],y=["done","fail","progress"],
x=["resolve","reject","notify"],w=f.u.obj.argsToArray,C=function(){var c=b.Deferred();return l(c)},u=function(b){return!!b&&b.done&&b.fail&&!b.resolve&&!b.reject};f.u.obj.expose("h5.async",{deferred:C,when:function(){var c=w(arguments);1===c.length&&b.isArray(c[0])&&(c=c[0]);var h=c.length,l=f.async.deferred(),m=l.promise(),q=b.when.apply(b,c).done(function(){l.resolveWith(this&&this.promise&&this.promise()===q?l:this,w(arguments))}).fail(function(){l.rejectWith(this,w(arguments))});if(q.progress)q.progress(function(){l.notifyWith(this===
q?m:this,w(arguments))});else{for(var t=[],d=0;d<h;d++)t[d]=void 0;for(var a=function(b){return function(a){t[b]=1<arguments.length?w(arguments):a;l.notifyWith(m,t)}},d=0;d<h;d++){var k=c[d];k&&b.isFunction(k.promise)&&k.progress&&(1<h?k.progress(a(d)):k.progress(function(){l.notifyWith(m,w(arguments))}))}}return m},isPromise:u,loop:function(f,h,l){b.isArray(f)||c(5E3);var m=C(),q="number"===b.type(l)?l:20,t=0,d=f.length,a,k=null,g=function(){if(t===d)m.resolve(f);else{var b=h.call(f,t,f[t],k);t++;
u(b)?b.done(function(){a()}).fail(function(){m.reject(f)}):a()}},w=function(){setTimeout(function(){var b=t-1;0<t&&m.notify({data:f,index:b,value:f[b]});g()},0)},B=!1;a=function(){B||(0===t%q?w():g())};var e=!1,k={resume:function(){!e&&B&&(B=!1,a())},pause:function(){B=!0},stop:function(){e=!0;m.resolve(f)}};w();return m.promise()}})})();(function(){function c(b,f){for(var h=0,l=y.length;h<l;h++){var i=y[h];b[i]&&(f[H[i]](b[i]),b[i]=void 0)}}function A(c,f,h){for(var l in f)if(f.hasOwnProperty(l)&&
(h||!b.isFunction(f[l]))&&-1===b.inArray(l,v))c[l]=f[l]}function l(b,c){A(this,b,!0);c.promise(this);var f=this.always;this.always=function(){f.apply(this,arguments);return this}}var v=["error","success","complete"],y=["error","success","complete"],H={success:"done",error:"fail",complete:"always"};f.u.obj.expose("h5",{ajax:function(){function w(b,c,f){A(y,f);i.resolveWith(this,arguments)}function v(c,f,h){if(0===u.retryCount||!1===u.retryFilter.apply(this,arguments))A(y,c),i.rejectWith(this,arguments);
else if(u.retryCount--,this.async){var d=this;setTimeout(function(){b.ajax(d).done(w).fail(v)},u.retryInterval)}else b.ajax(this).done(w).fail(v)}var u={},o=arguments;x(o[0])?(b.extend(u,o[1]),u.url=o[0]):b.extend(u,o[0]);var u=b.extend({},f.settings.ajax,u),i=f.async.deferred();c(u,i);var o=b.ajax(u),y=new l(o,i);o.done(w).fail(v);return y}})})();(function(){function h(b,a,n,c,d){this.controller=b;this.event=a;this.evArg=n;this.selector=c;this.selectorType=d}function A(b){return!this.__controllerContext||
!this.__controllerContext.executeListeners?void 0:b.proceed()}function l(b,a,n){var c=v(b.__name,a);n&&c.push(A);return y(b[a],a,c)}function v(a,n){var c=[],d=f.settings.aspects;if(!d||0===d.length)return c;for(var d=K(d),e=d.length-1;-1<e;e--){var j=d[e];if(!j.target||j.compiledTarget.test(a)){var g=j.interceptors;if(!j.pointCut||j.compiledPointCut.test(n))if(b.isArray(g))for(j=g.length-1;-1<j;j--)c=c.concat(g[j]);else c.push(g)}}return c}function y(b,a,c){for(var n=function(b,a,c){return function(){var L=
this;return c.call(L,{target:L,func:b,funcName:a,args:arguments,proceed:function(){return b.apply(L,this.args)}})}},d=0,f=c.length;d<f;d++)b=n(b,a,c[d]);return b}function H(b){return!!b.match(/^\{.*\}$/)}function w(b){return!!b.match(/^\[.*\]$/)}function C(a){return b.trim(a.substring(1,a.length-1))}function u(a){return b.trim(a.substring(1,a.length-1))}function o(b,a){for(var c=["window","document","navigator"],d=0,e=c.length;d<e;d++){var j=c[d];if(b===j||n(b,j+"."))return f.u.obj.getByPath(b,Q(a))}return b}
function i(a){var c=function(a,n){for(var L in a)if(0<=b.inArray(a,n)||D(L,Ga)&&c(a[L],n.concat([a])))return!0;return!1};return c(a,[])}function G(a){var c=function(a,n){for(var L in a)if(0<=b.inArray(a,n)||D(L,Ha)&&c(a[L],n.concat([a])))return!0;return!1};return c(a,[])}function m(b,a){var c=b[a];return D(a,Ga)&&"rootController"!==a&&"parentController"!==a&&c&&c.__controllerContext&&!c.__controllerContext.isRoot&&(!c.parentController||c.parentController===b)}function q(a,c,n){var d=[],f=[],j=function(a){f.push(a);
for(var L in a)if(m(a,L)){var e=a[L],g=n?e.__controllerContext[c]:e[c];g&&d.push(g);-1===b.inArray(e,f)&&j(e)}};j(a);return d}function t(b){var a=function(b){var c=b.__meta,n={};if(c)for(var L in c)!1===c[L].useHandlers&&(n[L]=1);for(L in b)c=b[L],m(b,L)&&(a(c),n[L]||d(c))};a(b)}function d(a){var c=a.__controllerContext.bindMap,n;for(n in c)for(var d in c[n]){var f=a,e=n,j=d,g=f.__controllerContext.bindMap[e][j],D=j,p=w(j);p&&(D=u(j));j=null;switch(D){case "mousewheel":j=ea(f,e,D,g);break;case pa:case Ka:case xa:j=
ma(f,e,D,g);break;default:j=la(f,e,D,g)}if(b.isArray(j)){f=0;for(e=j.length;f<e;f++)k(j[f],p)}else k(j,p)}}function a(a){var c=a.controller.rootElement,n=a.selector,d=a.eventName,j=a.handler,e=w(d),d=e?u(d):d,g=P(c),D=H(n);if(D){var p=C(n),n=!1;p===La?(p=c,n=!0):p=o(p,g);n||e||!x(p)?(a.evSelectorType=Y.SELECTOR_TYPE_OBJECT,b(p).bind(d,j)):(a.evSelectorType=Y.SELECTOR_TYPE_GLOBAL,b(g).delegate(p,d,j));a.evSelector=p}else a.evSelectorType=Y.SELECTOR_TYPE_LOCAL,a.evSelector=n,e?b(n,c).bind(d,j):b(c).delegate(n,
d,j);hb&&d===pa&&null!=f.settings.trackstartTouchAction&&(D?b(a.evSelector,g):b(a.evSelector,c)).each(function(){this.style[Va]=f.settings.trackstartTouchAction})}function k(c,n){n&&(c.eventName="["+c.eventName+"]");var d=c.handler;c.handler=function(){var a=f.settings.listenerElementType===1?b(arguments[0].currentTarget):arguments[0].currentTarget;d.call(c.controller,Ua(c,arguments),a)};ka(c.controller,c.selector,c.eventName,c.handler);a(c)}function g(b){var a=function(b){var c=b.__meta,n={};if(c)for(var d in c)!1===
c[d].useHandlers&&(n[d]=1);for(d in b)c=b[d],m(b,d)&&(a(c),n[d]||I(c))};a(b)}function I(a){var c=a.rootElement;if(c){var n=P(c),a=a.__controllerContext.unbindMap,d;for(d in a)for(var j in a[d]){var e=a[d][j],f=w(j),g=f?u(j):j;if(H(d)){var D=C(d),p=!1;if(D===La)D=c,p=!0;else{if(null==Q(n))continue;D=o(D,n)}p||f||!x(D)?b(D).unbind(g,e):b(n).undelegate(D,g,e)}else f?b(d,c).unbind(g,e):b(c).undelegate(d,g,e)}}}function B(a,c){a.__controllerContext.executeListeners=c;var n=[],d=function(a){n.push(a);for(var L in a)if(m(a,
L)){var j=a[L];j.__controllerContext.executeListeners=c;-1===b.inArray(j,n)&&d(j)}};d(a)}function e(a){var c=[],n=function(a,d,L){a.rootController=d;a.parentController=L;c.push(a);for(var j in a)m(a,j)&&(L=a[j],-1===b.inArray(L,c)&&n(L,d,a))};n(a,a,null)}function F(a,c){var n=c?"__init":"__ready",d=Z();setTimeout(function(){d.resolve()},0);var j=d.promise(),e=function(d){var g=!0,D;for(D in d)m(d,D)&&(g=!1,e(d[D]));var p=function(){var j=null,e=d.__name;if(d[n])try{j=d[n]({args:d.__controllerContext.args})}catch(f){throw a.rootController&&
a.rootController.dispose(arguments),f;}var g=c?s(d):U(d);j&&b.isFunction(j.done)&&b.isFunction(j.fail)?j.done(function(){g()}).fail(function(){var b=X(Wa,e,T(arguments));a.rootController&&a.rootController.dispose(b)}):g()};D=c?S(d):q(d,"readyPromise");c&&g&&D.push(j);f.async.when(D).done(function(){p()}).fail(ya)};e(a)}function S(b){var a=q(b,"initPromise");a.push(b.preinitPromise);return a}function s(b){return function(){if(!ha(b)){b.isInit=!0;var a=b.__controllerContext.initDfd;delete b.__controllerContext.templatePromise;
delete b.__controllerContext.preinitDfd;delete b.__controllerContext.initDfd;a.resolveWith(b);b.__controllerContext&&b.__controllerContext.isRoot&&J(b)}}}function U(a){return function(){if(!ha(a)){a.isReady=!0;var c=a.__controllerContext.readyDfd;delete a.__controllerContext.readyDfd;c.resolveWith(a);a.__controllerContext&&a.__controllerContext.isRoot&&a.rootElement&&a.isInit&&a.isReady&&b(a.rootElement).trigger("h5controllerready",a)}}}function fa(a,d,j){if(!x(a))return b(a);var e=b.trim(a);H(e)?
(a=C(e),j&&(n(a,"window")||n(a,"navigator"))&&c(za),d=b(o(a,P(d.ownerDocument)))):d=b(d).find(a);return d}function ka(b,a,c,n){b.__controllerContext.unbindMap[a]||(b.__controllerContext.unbindMap[a]={});b.__controllerContext.unbindMap[a][c]=n}function la(b,a,c,n){return{controller:b,selector:a,eventName:c,handler:n}}function ea(b,a,c,n){return{controller:b,selector:a,eventName:typeof document.onmousewheel===da?"DOMMouseScroll":c,handler:function(a){var c=a.event;null==c.wheelDelta&&c.originalEvent&&
null!=c.originalEvent.wheelDelta&&(c.wheelDelta=c.originalEvent.wheelDelta);null==c.wheelDelta&&c.originalEvent&&null!=c.originalEvent.detail&&(c.wheelDelta=40*-c.originalEvent.detail);n.call(b,a)}}}function ma(a,c,n,d){function j(b,a){for(var c in b)b.hasOwnProperty(c)&&!a[c]&&"target"!==c&&"currentTarget"!==c&&"originalEvent"!==c&&"liveFired"!==c&&(a[c]=b[c]);a.h5DelegatingEvent=b}var e=typeof document.ontouchstart!==da;if(n!==pa)return la(a,c,n,function(a){var c=a.event.h5DelegatingEvent.type;
if("mousemove"===c||"mouseup"===c){var c=a.event,n=b(c.currentTarget).offset()||{left:0,top:0};c.offsetX=c.pageX-n.left;c.offsetY=c.pageY-n.top}d.apply(this,arguments)});var f=b(P(a.rootElement));return function(){function g(c,n,d){return function(e){var D;a:{switch(c){case "touchstart":case "mousedown":D=pa;break a;case "touchmove":case "mousemove":D=Ka;break a;case "touchend":case "mouseup":D=xa;break a}D=void 0}var k=D===pa;if(!k||!Y){var $=0===e.event.type.indexOf("touch");$&&N(e.event,c);var ta=
new b.Event(D);j(e.event,ta);var m=e.event.target;n&&(m=n);d&&d(ta);var h=e.event.originalEvent||e.event;k&&-1===b.inArray(h,qa)&&(qa=[],ua=[]);var T=b.inArray(h,qa);-1===T&&(T=qa.push(h)-1,ua[T]=!1);if(!ua[T]&&(!$||Y||k))ua[T]=!0,b(m).trigger(ta,e.evArg),Y=!0;if(e.event.currentTarget===document&&(D===xa&&(qa=[],ua=[]),-1!==b.inArray(h,qa)))qa.splice(T,1),ua.splice(T,1);if(k&&Y){ta.h5DelegatingEvent.preventDefault();D=ta.target;var l=ta.clientX,db=ta.clientY,r=$?"touchmove":"mousemove",z=$?"touchend":
"mouseup",J=g(r,D,function(b){var a=b.clientX,c=b.clientY;b.dx=a-l;b.dy=c-db;l=a;db=c}),gb=g(z,D),E=function(b){e.event=b;e.evArg=Ta(arguments);J(e)},q=function(b){e.event=b;e.evArg=Ta(arguments);gb(e)},M=$?b(D):f;p=function(){qa=[];ua=[];M.unbind(r,E);M.unbind(z,q);if(!$&&a.rootElement!==document){b(a.rootElement).unbind(r,E);b(a.rootElement).unbind(z,q)}};M.bind(r,E);M.bind(z,q);!$&&a.rootElement!==document&&(b(a.rootElement).bind(r,E),b(a.rootElement).bind(z,q))}else D===xa&&(p(),Y=!1)}}}function D(b){return{controller:a,
selector:c,eventName:b,handler:g(b)}}var p=null,Y=!1,k=[la(a,c,n,d)];e&&k.push(D("touchstart"));k.push(D("mousedown"));return k}()}function N(a,c){var n=a.originalEvent;if(n){var d="touchend"===c||"touchcancel"===c?n.changedTouches[0]:n.touches[0],e=d.pageX,j=d.pageY;a.pageX=n.pageX=e;a.pageY=n.pageY=j;a.screenX=n.screenX=d.screenX;a.screenY=n.screenY=d.screenY;a.clientX=n.clientX=d.clientX;a.clientY=n.clientY=d.clientY;d=a.target;if(d.ownerSVGElement)d=d.farthestViewportElement;else if(d===window||
d===document)d=document.body;if(d=b(d).offset())j-=d.top,a.offsetX=n.offsetX=e-d.left,a.offsetY=n.offsetY=j}}function Ta(b){return 3>b.length?b[1]:T(b).slice(1)}function Ua(a,c){var n=null,d=null;c&&(n=c[0],d=Ta(c));var j=n;if(j&&null==j.offsetX&&null==j.offsetY&&j.pageX&&j.pageY){var e=j.target;if(e.ownerSVGElement)e=e.farthestViewportElement;else if(e===window||e===document)e=document.body;if(e=b(e).offset())j.offsetX=j.pageX-e.left,j.offsetY=j.pageY-e.top}return new h(a.controller,n,d,a.evSelector,
a.evSelectorType)}function ba(b){for(var a in b){var c=b[a];m(b,a)&&(c.rootElement=null,c.view.__controller=null,ba(c))}}function V(b){var a=b.rootElement,c=b.__meta,n;for(n in b){var d=b[n];m(b,n)&&(d.rootElement=c&&c[n]&&c[n].rootElement?p(c[n].rootElement,a,d):a,d.view.__controller=d,V(d))}}function p(a,n,d){null==a&&c(W,[d.__name]);!x(a)&&"object"!==typeof a&&c(Ma,[d.__name]);a=n?fa(a,n):b(a);0===a.length&&c(aa,[d.__name]);1<a.length&&c(eb,[d.__name]);return a.get(0)}function J(a){d(a);t(a);var c=
a.__controllerContext.managed,n=f.core.controllerManager.controllers;-1===b.inArray(a,n)&&!1!==c&&n.push(a);!1!==c&&b(a.rootElement).trigger("h5controllerbound",a);c=q(a,"initPromise");c.push(a.initPromise);f.async.when(c).done(function(){F(a,!1)}).fail(ya)}function M(b){null===b.rootController&&e(b);V(b);F(b,!0)}function r(b,a){var c=Z();c.resolve();b.__controllerContext.templatePromise=c.promise();b.__controllerContext.initDfd=Z();b.initPromise=b.__controllerContext.initDfd.promise();b.__controllerContext.readyDfd=
Z();b.readyPromise=b.__controllerContext.readyDfd.promise();b.isInit=!1;b.isReady=!1;b.__controllerContext.args=a;for(var n in b)m(b,n)&&r(b[n])}function O(a,c){var n=null,d=c;b.isPlainObject(d)?n=d.target:d={};n=n?fa(n,a.rootElement,!0):a.rootElement;return f.ui.indicator.call(a,n,d)}function Na(a,c){var n=[],d=[],j=function(a){var e=Z();d.push(a);for(var D in a)if(m(a,D)){var g=a[D];-1===b.inArray(g,d)&&j(g)}a[c]&&b.isFunction(a[c])&&(a=a[c](),f.async.isPromise(a)&&(a.always(function(){e.resolve()}),
n.push(e.promise())))};j(a);return n}function Xa(a){function c(a){n.push(a);a.view.__view&&a.view.clear();for(var d in a)if(a.hasOwnProperty(d)&&m(a,d)){var j=a[d];-1===b.inArray(j,n)&&c(j)}for(var e in a)a.hasOwnProperty(e)&&(a[e]=null)}var n=[];c(a)}function ca(b,a){return a.view.__view.isAvailable(b)?a.view.__view:a.parentController?ca(b,a.parentController):f.core.view}function ha(b){return!b.__controllerContext||b.__controllerContext.isDisposing}function ra(b,a){function c(b,d){var e=b.__controllerContext[j[d]];
e&&!Da(e)&&!Ea(e)&&e.rejectWith(b,[a]);if(b.parentController)c(b.parentController,d);else if(d<j.length-1)for(var e=0,f=n.length;e<f;e++)c(n[e],d+1)}var n=[],d=function(b){var a=!1,c;for(c in b)m(b,c)&&(a=!0,d(b[c]));a||n.push(b)};d(b);for(var j=["initDfd","readyDfd"],e=0,f=n.length;e<f;e++)c(n[e],0)}function na(b,a){for(var c=b.childNodes,n=0,d=c.length;n<d;n++){var e=c[n];if(1===e.nodeType){if(e=na(e,a))return e}else if(8===e.nodeType){var j=e.nodeValue;if(0===j.indexOf(Oa)){var f=j.indexOf("}");
if(-1!==f&&(j=j.slice(0,f).match(/id="([A-Za-z][\w-:\.]*)"/))&&j[1]===a)return e}}}return null}function Pa(b){var a=this;return function(){return b.apply(a,arguments)}}function Qa(b){var a=this;return function(){var c=f.u.obj.argsToArray(arguments);c.unshift(this);return b.apply(a,c)}}function j(b){this.__controller=b;f.u.obj.getByPath("h5.core.view")&&(this.__view=f.core.view.createView())}function z(b,a,c,n,d){this.__name=a;this.__templates=null;this.rootElement=b;this.__controllerContext={executeListeners:!0,
isRoot:d,bindMap:{},unbindMap:{},controllerDef:c};this.__controllerContext.args=n?n:null;this.isReady=this.isInit=!1;this.readyPromise=this.initPromise=this.preinitPromise=this.parentController=this.rootController=null;this.log=f.log.createLogger(a);this.view=new j(this)}function E(){this.rootElement=document;this.controllers=[];b(document).bind(Ia,function(b,a){null==a.target&&(a.target=document);a.indicator=O(this,a);b.stopPropagation()})}function Ja(a,n,d,e){var j=!e||!e.isInternal,g=n.__name;
(!x(g)||0===b.trim(g).length)&&c(ja,null,{controllerDefObj:n});d&&!b.isPlainObject(d)&&c(ga,[g],{controllerDefObj:n});n.__controllerContext&&c(sa,null,{controllerDefObj:n});if(j||a)if(null==a)c(W,[g],{controllerDefObj:n});else if(x(a)||"object"===typeof a){var p=b(a);0===p.length&&c(aa,[g],{controllerDefObj:n});1<p.length&&c(eb,[g],{controllerDefObj:n});p[0].nodeType!==Fa&&p[0].nodeType!==R&&c(Ya,[g],{controllerDefObj:n})}else c(Ma,[g],{controllerDefObj:n});i(n)&&c(ib,[g],{controllerDefObj:n});G(n)&&
c(jb,[g],{controllerDefObj:n});var k=new z(a?b(a).get(0):null,g,n,d,j),a=b.extend(!0,{},n),Y=n.__templates,$=Z(),p=$.promise(),m=Z(),h=m.promise();k.__controllerContext.preinitDfd=m;k.preinitPromise=h;k.__controllerContext.initDfd=Z();k.initPromise=k.__controllerContext.initDfd.promise().fail(ya);k.__controllerContext.readyDfd=Z();k.readyPromise=k.__controllerContext.readyDfd.promise();j||k.readyPromise.fail(ya);if(Y&&0<Y.length){var T=function(b){f.u.obj.getByPath("h5.core.view")||c(ia);k.view.load(Y).done(function(){$.resolve()}).fail(function(a){var c=
a.detail.error.status;b===f.settings.dynamicLoading.retryCount||0!==c&&12029!==c?setTimeout(function(){$.reject(a)},0):setTimeout(function(){T(++b)},f.settings.dynamicLoading.retryInterval)})};T(0)}else $.resolve();p.done(function(){ha(k)||m.resolveWith(k)}).fail(function(b){m.rejectWith(k,[b]);k.rootController&&k.rootController.dispose(b)});for(var r in a)if(Za[r])c(kb,[g,r],{controllerDefObj:n});else if(("__ready"===r||"__construct"===r||"__init"===r)&&b.isFunction(a[r]))k[r]=l(a,r);else if(-1!==
r.indexOf(" ")&&b.isFunction(a[r])){p=b.trim(r);h=p.lastIndexOf(" ");j=b.trim(p.substring(0,h));p=b.trim(p.substring(h+1,p.length));w(p)&&(p="["+b.trim(u(p))+"]");H(j)&&"this"===C(j)&&c(lb,[g],{controllerDefObj:n});h=k.__controllerContext.bindMap;h[j]||(h[j]={});h[j][p]&&c(mb,[g,j,p],{controllerDefObj:n});var E=l(a,r,!0);h[j][p]=E;k[r]=E}else D(r,Ga)&&a[r]&&!b.isFunction(a[r])?(j=Ja(null,b.extend(!0,{},a[r]),d,b.extend({isInternal:!0},e)),k[r]=j):k[r]=D(r,Ha)&&a[r]&&!b.isFunction(a[r])?Aa(n[r]):b.isFunction(a[r])?
l(a,r):a[r];if(d=k.__meta)for(r in d)j=k[r],void 0===j&&c(va,[g,r],{controllerDefObj:n}),null===j&&c(Ra,[g,r],{controllerDefObj:n}),z.prototype.constructor!==j.constructor&&c(Sa,[g,r],{controllerDefObj:n});k.__construct&&k.__construct({args:k.__controllerContext.args});if(ha(k))return null;e&&"managed"in e&&(k.__controllerContext.managed=e.managed);k.__controllerContext.isRoot&&M(k);return k}function Aa(a){var n=a.__name;(!x(n)||0===b.trim(n).length)&&c(Ba,null,{logicDefObj:a});a.__logicContext&&
c(Ca,null,{logicDefObj:a});var d=b.extend(!0,{},a),j;for(j in d)d[j]=b.isFunction(d[j])?y(d[j],j,v(d.__name,j)):d[j];d.deferred=Z;d.log=f.log.createLogger(n);d.__logicContext={logicDef:a};d.own=Pa;d.ownWithOrg=Qa;for(var e in d)d.hasOwnProperty(e)&&D(e,Ha)&&(d[e]=Aa(d[e]));return d}var Ga="Controller",Ha="Logic",pa="h5trackstart",Ka="h5trackmove",xa="h5trackend",La="rootElement",Ia="triggerIndicator",Oa="{h5view ",za=6E3,W=6001,aa=6003,eb=6004,ja=6006,ga=6007,sa=6008,ib=6009,jb=6010,kb=6011,lb=6012,
mb=6013,va=6014,Ra=6015,Sa=6016,Ba=6017,Ca=6018,ia=6029,Ma=6030,Wa=6033,Ya=6034,ya=function(){},Z=f.async.deferred,n=f.u.str.startsWith,D=f.u.str.endsWith,$=f.u.str.format,T=f.u.obj.argsToArray,Y={SELECTOR_TYPE_LOCAL:1,SELECTOR_TYPE_GLOBAL:2,SELECTOR_TYPE_OBJECT:3},qa=[],ua=[],Va="",hb=function(){var b=document.createElement("div");return typeof b.style.touchAction!==da?(Va="touchAction",!0):typeof b.style.msTouchAction!==da?(Va="msTouchAction",!0):!1}();b.extend(h.prototype,Y);b.extend(j.prototype,
{get:function(b,a){return ca(b,this.__controller).get(b,a)},update:function(b,a,c){b=fa(b,this.__controller.rootElement,!0);return ca(a,this.__controller).update(b,a,c)},append:function(b,a,c){b=fa(b,this.__controller.rootElement,!0);return ca(a,this.__controller).append(b,a,c)},prepend:function(b,a,c){b=fa(b,this.__controller.rootElement,!0);return ca(a,this.__controller).prepend(b,a,c)},load:function(b){return this.__view.load(b)},register:function(b,a){this.__view.register(b,a)},isValid:function(b){return this.__view.isValid(b)},
isAvailable:function(b){return ca(b,this.__controller).isAvailable(b)},clear:function(b){this.__view.clear(b)},bind:function(a,c){var n=a;if(x(a)&&0===a.indexOf("h5view#")){for(var d=na(this.__controller.rootElement,a.slice(7)),n=d.nodeValue,n=n.slice(n.indexOf("}")+1),j=b("<div>").append(n),n=[],e=j[0].childNodes,f=0,g=e.length;f<g;f++)n.push(e[f]);j.empty();j=document.createDocumentFragment();f=0;for(g=n.length;f<g;f++)j.appendChild(n[f]);d.parentNode.insertBefore(j,d.nextSibling)}return this.__view.bind(n,
c)}});b.extend(z.prototype,{$find:function(a){return b(this.rootElement).find(a)},deferred:function(){return Z()},trigger:function(a,c){var n=x(a)?b.Event(a):a;b(this.rootElement).trigger(n,c);return n},own:Pa,ownWithOrg:Qa,bind:function(b,a){this.__controllerContext.isRoot||c(6031);this.rootElement=p(b,null,this);this.view.__controller=this;r(this,a?a:null);M(this);return this},unbind:function(){this.__controllerContext.isRoot||c(6031);Na(this,"__unbind");I(this);g(this);this.__controllerContext.unbindMap=
{};var a=this;f.core.controllerManager.controllers=b.grep(f.core.controllerManager.controllers,function(b){return b!==a});b(this.rootElement).trigger("h5controllerunbound",this);this.rootElement=null;this.view.__controller=null;ba(this)},dispose:function(b){if(!ha(this)){ra(this,b);this.__controllerContext.isDisposing=1;var a=this.deferred();this.unbind();var c=this,b=Na(this,"__dispose");f.async.when(b).done(function(){Xa(c);a.resolve()});return a.promise()}},triggerIndicator:function(a){var c={indicator:null};
a&&b.extend(c,a);b(this.rootElement).trigger(Ia,[c]);return c.indicator},indicator:function(b){return O(this,b)},enableListeners:function(){B(this,!0)},disableListeners:function(){B(this,!1)},throwError:function(b,a){var c=T(arguments);c.unshift(null);this.throwCustomError.apply(null,c)},throwCustomError:function(b,a,n){2>arguments.length&&c(6005);var d=null;a&&x(a)?d=Error($.apply(null,T(arguments).slice(1))):(d=Error(),d.detail=a);d.customType=b;throw d;}});b.extend(E.prototype,{getAllControllers:function(){return this.controllers},
getControllers:function(a,c){for(var n=c&&c.deep,d=c&&c.name?K(c.name):null,j=b(a)[0],e=this.controllers,f=[],g=0,D=e.length;g<D;g++){var p=e[g];d&&-1===b.inArray(p.__name,d)||(j===p.rootElement?f.push(p):n&&P(j)===P(p.rootElement)&&b.contains(j,p.rootElement)&&f.push(p))}return f}});f.u.obj.expose("h5.core",{controllerManager:new E});var Za={},wa=new z(null,"a"),oa;for(oa in wa)wa.hasOwnProperty(oa)&&"__name"!==oa&&"__templates"!==oa&&"__meta"!==oa&&(Za[oa]=1);wa=null;wa=z.prototype;for(oa in wa)wa.hasOwnProperty(oa)&&
(Za[oa]=1);wa=null;bb.controllerInternal=Ja;f.u.obj.expose("h5.core",{controller:function(b,a,n){2>arguments.length&&c(6032);return Ja(b,a,n)},logic:Aa,expose:function(b){var a=b.__name;a||c(6019,null,{target:b});var n=a.lastIndexOf(".");if(-1===n)window[a]=b;else{var d=a.substr(0,n),a=a.substr(n+1,a.length),n={};n[a]=b;f.u.obj.expose(d,n)}}})})();(function(){function h(b){return(b=b&&x(b)?b.match(/^(string|number|integer|boolean|any|enum|@(.+?))((\[\]){0,1})$/):null)?{elmType:b[1],dataModel:b[2],
dimension:b[3]?1:0}:{}}function A(a,c){return function T(a,n){if(!c[a])return!1;for(var d=0,j=c[a].length;d<j;d++)if(-1<b.inArray(c[a][d],n)||T(c[a][d],n.concat([a])))return!0;return!1}(a,[])}function l(b){return"number"===typeof b&&isNaN(b)}function v(b,a){return null==b||l(b)||"number"===typeof b||!a&&(b instanceof Number||!(!(x(b)||b instanceof String)||!b.match(/^[+\-]{0,1}[0-9]*\.{0,1}[0-9]+$/)))}function y(b,a){return null==b||"number"===typeof b&&parseInt(b)===b||!a&&(b instanceof Number&&
parseInt(b)===parseFloat(b)||("string"===typeof b||b instanceof String)&&!!b.match(/^[+\-]{0,1}[0-9]+$/))}function H(a,d,j){function e(){f.push(t.call(this,arguments));if(j)throw null;}var f=[];try{if(!b.isPlainObject(a))throw e(ca),null;ja(a.name)||e(ha);var g=a.base,p=null;if(null!=g)if(!x(g)||0!==g.indexOf("@"))e(ra);else{var k=g.substring(1);d.models[k]?p=d.models[k].schema:e(na,k)}var r=a.schema;!p&&null==r&&e(Pa);if(!p&&!b.isPlainObject(r))throw e(Qa),null;}catch(h){c(V,null,f)}}function w(a,
d,e,f){function g(){p.push(t.call(this,arguments));if(f)throw null;}"object"!==typeof a&&c(J);var p=[];try{if(d){var k=!1,r;for(r in a)a[r]&&!0===a[r].id&&(k&&g(j),k=!0);k||g(z)}var m={},k=function(b){if(null!=b){s&&g(Ja,i);O.hasOwnProperty("defaultValue")&&g(Da,i);if(null==b.on)g(Aa,i);else for(var c=K(b.on),d=0,j=c.length;d<j;d++)if(!a.hasOwnProperty(c[d])){g(Aa,i);break}"function"!==typeof b.calc&&g(Ga,i);m[i]=K(b.on)}};r=function(b){s&&null==b&&(b="string");var a={};null!=b&&(x(b)?(s&&"string"!==
b&&"integer"!==b&&g(Fa,i),a=h(b),a.elmType?(a.dataModel&&(d||g(pa,i,a.dataModel),e.models[a.dataModel]||g(Ka,i,a.dataModel)),"enum"===a.elmType&&null==O.enumValue&&g(xa,i)):g(pa,i,b)):g(Ha,i))};var q=function(a,c){if(null!=a)if(b.isPlainObject(a)){for(var d in a){var n=a[d];if(null!=n)switch(d){case "notNull":!0!==n&&!1!==n?g(Ia,i,d):s&&!n&&g(da,i,d,n);break;case "min":case "max":switch(c.elmType){case "integer":(x(n)||!y(n)||l(n))&&g(Oa,i,d);break;case "number":(x(n)||x(n)||!v(n)||Infinity===n||
-Infinity===n||l(n))&&g(Oa,i,d);break;default:g(za,i,d,c.elmType)}break;case "minLength":case "maxLength":switch(c.elmType){case "string":x(n)||!y(n)||l(n)||0>n?g(W,i,d):s&&"maxLength"===d&&0===n&&g(da,i,d,n);break;default:g(za,i,d,c.elmType)}break;case "notEmpty":switch(c.elmType){case "string":!0!==n&&!1!==n?g(Ia,i,d):s&&!n&&g(da,i,d,n);break;default:g(za,i,d,c.elmType)}break;case "pattern":switch(c.elmType){case "string":"regexp"!==b.type(n)&&g(Q,i,d);break;default:g(za,i,d,c.elmType)}}}a.notEmpty&&
0===a.maxLength&&g(R,i,"notEmpty","maxLength");null!=a.min&&null!=a.max&&a.min>a.max&&g(R,i,"min","max");null!=a.minLength&&null!=a.maxLength&&a.minLength>a.maxLength&&g(R,i,"minLength","maxLength")}else g(La,i)},o=function(a,c){null!=a&&("enum"!==c.elmType&&g(aa,i),(!b.isArray(a)||0===a.length||-1<b.inArray(null,a)||-1<b.inArray(void 0,a))&&g(X,i))},i;for(i in a){var O=null==a[i]?{}:a[i],s=d&&!!O.id;ja(i)||g(E,i);k(O.depend);r(O.type);var B={},u=s&&null==u?"string":O.type;x(u)&&(B=h(u));q(O.constraint,
B);o(O.enumValue,B);s&&O.hasOwnProperty("defaultValue")&&g(ga,i)}for(var I in m)A(I,m)&&g(Ea,I)}catch(w){c(M,null,p)}return!0}function C(b,a){var d=[];try{for(var j in b){var e=b[j];if(e&&(e.hasOwnProperty("defaultValue")||!e.type||!("array"===e.type||h(e.type).dimension))&&e.hasOwnProperty("defaultValue")){var g=e.defaultValue;a[j](g).length&&pushErrorReason(sa,j,g)}}return!0}catch(f){c(M,null,d)}}function u(b,a,c){var d={},j;for(j in b){var e=d,g=j,f;f=c;var p=b[j]||{},k=[],r=null,m=0,r=p.type,
l=p.constraint||{};a&&p.id&&(r=r||"string",l.notNull=!0,"string"===r&&(l.notEmpty=!0));r&&(m=h(r),r=m.elmType,m=m.dimension,k.push(i(r,{manager:f,enumValue:p.enumValue})));l&&k.push(o(l));f=G({checkFuncs:k,dimension:m});e[g]=f}return d}function o(b){return function(a){var c=[];b.notNull&&null==a&&c.push({notNull:b.notNull});b.notEmpty&&!a&&c.push({notEmpty:b.notEmpty});if(null==a)return c;null!=b.min&&a<b.min&&c.push({min:b.min});null!=b.max&&b.max<a&&c.push({max:b.max});null!=b.minLength&&a.length<
b.minLength&&c.push({minLength:b.minLength});null!=b.maxLength&&b.maxLength<a.length&&c.push({maxLength:b.maxLength});null!=b.pattern&&!a.match(b.pattern)&&c.push({pattern:b.pattern});return c}}function i(a,c){var d=[{type:a}];switch(a){case "number":return function(b,a){return v(b,a)?[]:d};case "integer":return function(b,a){return y(b,a)?[]:d};case "string":return function(b,a){return null==b||x(b)||!a&&b instanceof String?[]:d};case "boolean":return function(b,a){return null==b||"boolean"===typeof b||
!a&&b instanceof Boolean?[]:d};case "enum":return function(a){var n;a:if(n=c.enumValue,l(a)){for(var a=0,j=n.length;a<j;a++)if(l(n[a])){n=!0;break a}n=!1}else n=null===a||-1<b.inArray(a,n);return n?[]:d};case "any":return function(){return[]}}var j=a.match(/^@(.+?)$/)[1],e=c.manager;return function(b){var a=e.models[j];return!a||"object"!==typeof b&&null!=b?d:null==b||a.has(b)?[]:d}}function G(a){var c=a.checkFuncs;if(!c||0===c.length)return function(){return[]};var d=a.dimension||0;return function(a,
n){function j(a,g){if(!g){for(var p=0,k=c.length;p<k;p++){var r=c[p](a,n);if(r.length)return e=e.concat(r),!1}return!0}if(null==a)return!0;if(!b.isArray(a)&&!f.core.data.isObservableArray(a))return e.push({dimension:d}),!1;p=0;for(k=a.length;p<k;p++)if(!j(a[p],g-1))return!1;return!0}var e=[];j(a,d);return e}}function m(b,a){b._values={};b._nullProps={};for(var c in a)if(a[c]&&q(a[c].type)){var d=ma();d.relatedItem=b;b._values[c]=d;b._nullProps[c]=!0}}function q(b){return!b?!1:-1!==b.indexOf("[]")}
function t(){return{code:arguments[0]}}function d(a,d,j,e){function g(c){for(var c=K(k[c].depend.on),d=0,j=c.length;d<j;d++)if(-1===b.inArray(c[d],a._realProperty)&&-1!==b.inArray(c[d],p))return!1;return!0}function f(a,c){for(var d=0,n=c.length;d<n;d++){var j=r[c[d]];if(j)for(var e=0,g=j.length;e<g;e++){var p=j[e];-1===b.inArray(p,a)&&a.push(p)}}}var p=[],k=a.schema||a._model.schema,r=a._dependencyMap,m={};for(e?p=a._dependProps.slice():f(p,K(j));0!==p.length;){for(var j=[],e=0,h=p.length;e<h;e++){var l=
p[e];if(g(l)){var i=k[l].depend.calc.call(a,d);0!==a._validateItemValue(l,i,!0).length&&c(Xa,[a._model?a._model.name:va,l,i]);m[l]={oldValue:a._values[l],newValue:i};k[l]&&q(k[l].type)?i?(a._values[l].copyFrom(i),a._nullProps[l]=!1):(a._values[l].copyFrom([]),a._nullProps[l]=!0):a._values[l]=i}else j.push(l)}f(j,p);p=j}return m}function a(b,a,d,j){for(var e in d){e in b||c(Na,[j?j.name:va,e]);var g=d[e];if(!b[e]||!q(b[e].type)||d.hasOwnProperty(e))g=a(e,g,j&&j._idKey===e),0<g.length&&c(r,[j?j.name:
va,e],g)}}function k(a,j,e,g){var p=a.schema||a._model.schema,k=[],r;for(r in j)if(!(e&&-1!==b.inArray(r,e))){var m=a._values[r],h=j[r];if(p[r]&&p[r].depend)m!==h&&c(O,[a._model?a._model.name:va,r]);else{var i=p[r]&&p[r].type;q(i)&&(null==h?(h=[],a._nullProps[r]=!0):a._nullProps[r]=!1);if(i&&i.match(/string|number|integer|boolean/)){var z=h;if(b.isArray(z)){for(var z=z.slice(0),h=0,E=z.length;h<E;h++)z[h]=z[h]&&"object"===typeof z[h]?z[h]&&z[h].valueOf&&z[h].valueOf():z[h];h=z}else h=z&&"object"===
typeof z&&z.valueOf?z.valueOf():z}if(null!=h&&i&&i.match(/number|integer/)&&"number"!==typeof h)if(b.isArray(h)||f.core.data.isObservableArray(h)){z=0;for(E=h.length;z<E;z++)null!=h[z]&&v(h[z])&&(h[z]=parseFloat(h[z]))}else null!=h&&(h=parseFloat(h));if(!q(i)||!m||!m.equals(h,m))m===h||l(m)&&l(h)||(i&&-1!==i.indexOf("[]")&&f.core.data.isObservableArray(m)&&(m=m.toArray()),k.push({p:r,o:m,n:h}))}}if(k.length){j={};e=[];z=0;for(r=k.length;z<r;z++)m=k[z],p[m.p]&&q(p[m.p].type)?m.n&&a._values[m.p].copyFrom(m.n):
a._values[m.p]=m.n,j[m.p]={oldValue:m.o,newValue:a.get(m.p)},e.push(m.p);p={type:!0===g?"create":"change",target:a,props:j};b.extend(j,d(a,p,e,g));return p}}function g(b){var a=b._manager,b=b.name;a._updateLogs||(a._updateLogs={});a._updateLogs[b]||(a._updateLogs[b]={});return a._updateLogs[b]}function I(b,a,c){if(b._manager)for(var d=g(b),j=0,e=c.length;j<e;j++){var f=c[j],p=f._values[b._idKey];d[p]||(d[p]=[]);d[p].push({type:a,item:f})}}function B(b,a){if(b._manager){var c=g(b),d=a.target._values[b._idKey];
c[d]||(c[d]=[]);c[d].push({type:Ra,ev:a})}}function e(a){var c={},d;for(d in a)if(a.hasOwnProperty(d)){var j=a[d]?a[d].depend:null;if(j)for(var j=K(j.on),e=0,g=j.length;e<g;e++){var f=j[e];c[f]||(c[f]=[]);-1===b.inArray(d,c[f])&&c[f].push(d)}}return c}function F(a,c){H(a,c,!0);var d;d=(d=a.base)?c.models[d.slice(1)].schema:{};d=b.extend({},d,a.schema);w(d,!0,c,!0);var j=u(d,!0,c);C(d,j,!0);return new fa(d,a,j,c)}function S(a,c){var d=[],j=[],g=[],f;for(f in a)a[f]&&a[f].depend?j.push(f):d.push(f),
a[f]&&a[f].type&&-1!==a[f].type.indexOf("[]")&&g.push(f);f=e(a);var p={},k;for(k in a){var r=a[k];if(!r||!r.depend){var h=null,h=r&&void 0!==r.defaultValue?r.defaultValue:null;p[k]=h}}return{_realProps:d,_dependProps:j,_aryProps:g,_dependencyMap:f,_createInitialValueObj:function(a){if(!a)return b.extend({},p);var c=b.extend({},p),d;for(d in a)c[d]=a[d];return c},_validateItemValue:function(b,a,d){return c[b](a,d)}}}function s(a,d,j,e){var g=!1,k=["sort","reverse","pop","shift"],h=null;j.addEventListener("changeBefore",
function(j){e&&(a._isRemoved||!e._manager)&&c(p,[a._values[e._idKey],j.method]);var m=f.u.obj.argsToArray(j.args);if(-1===b.inArray(j.method,k)){var z=!0;switch(j.method){case "splice":z=!1;m.shift();m.shift();break;case "copyFrom":m=m[0];break;case "set":m.shift()}z&&(j=a._validateItemValue(d,m),0<j.length&&c(r,d,j))}e?(e._manager&&(j=e._manager,m=e.name,j._oldValueLogs||(j._oldValueLogs={}),j._oldValueLogs[m]||(j._oldValueLogs[m]={}),j=j._oldValueLogs[m],m=a._values[e._idKey],j[m]||(j[m]={}),j[m][d]||
(j[m][d]=a._values[d].toArray())),(g=e._manager?e._manager.isInUpdate():!1)||e._manager.beginUpdate()):h=a._values[d].toArray()});j.addEventListener("change",function(b){if(!(a._isInSet||null===b.method)){var c={type:"change",target:a,props:{}};c.props[d]={};e?(B(e,c),g?b.stopImmediatePropagation():(e._manager._isArrayPropChangeSilentlyRequested=!0,e._manager.endUpdate(),e._manager._isArrayPropChangeSilentlyRequested=!1)):j.equals(h)||(c.props[d]={oldValue:h,newValue:a._values[d]},a.dispatchEvent(c))}})}
function U(b){ja(b)||c(ba);this.models={};this.name=b;this._updateLogs=null;this._isArrayPropChangeSilentlyRequested=!1}function fa(b,a,c,d){this.items={};this.size=0;this.name=a.name;this._manager=d;for(var j in b)b[j]&&b[j].id&&(this._idKey=j);this._idType=(a=b[this._idKey].type)?"string"===a?P:Ua:P;this.schema=b;this._itemConstructor=ka(b,c,this);d.models[this.name]=this}function ka(c,d,j){function e(b){m(this,c,g,b);b=g._createInitialValueObj(b);a(c,g._validateItemValue,b,j);k(this,b,null,!0);
for(var b=g._aryProps,d=0,f=b.length;d<f;d++)s(this,b[d],this.get(b[d]),j)}var g=S(c,d);j._schemaInfo=g;f.mixin.eventDispatcher.mix(e.prototype);b.extend(e.prototype,g,Sa,{_model:j,_isRemoved:!1,getModel:function(){return this._isRemoved?null:this._model}});return e}function la(){}function ea(){this.length=0;this._src=[]}function ma(){return new ea}function N(b){return b&&b.constructor===ea?!0:!1}var P="string",Ua="number",ba=15E3,V=15001,p=15005,J=15008,M=15009,r=15011,O=15012,Na=15013,Xa=15016,
ca=15900,ha=15901,ra=15902,na=15903,Pa=15904,Qa=6,j=15800,z=15801,E=15802,Ja=15803,Aa=15804,Ga=15805,Ha=15806,pa=15807,Ka=15808,xa=15809,La=15810,Ia=15811,Oa=15812,za=15813,Q=15814,W=15815,R=15816,aa=15817,X=15818,ga=15819,sa=15820,da=15821,Da=15822,Ea=15823,Fa=15824,va="n/a",Ra=2,Sa={get:function(a){if(0===arguments.length)return b.extend({},this._values);var d=this._model;(d?d.schema:this.schema).hasOwnProperty(a)||c(15014,[d?d.name:va,a]);return this._values[a]},set:function(b){var d=b;2===arguments.length&&
(d={},d[arguments[0]]=arguments[1]);var j=this._model;j&&(this._isRemoved||!j._manager)&&c(p,[this._values[this._model._idKey],"set"],this);if(j)j._idKey in d&&d[j._idKey]!==this._values[j._idKey]&&c(15003,[j.name,this._idKey]),a(j.schema,j._schemaInfo._validateItemValue,d,j);else{var e=this.validate(d);if(e)throw e;}var e=null,g=j?j._manager.isInUpdate():!1;j&&!g&&j._manager.beginUpdate();this._isInSet=!0;e=k(this,d);this._isInSet=!1;j?(e&&B(j,e),g||j._manager.endUpdate()):e&&this.dispatchEvent(e)},
regardAsNull:function(b){return this._isArrayProp(b)?!0===this._nullProps[b]:null===this._values[b]},_isArrayProp:function(b){var a=this._model?this._model.schema:this.schema;return a[b]&&a[b].type&&-1<a[b].type.indexOf("[]")?!0:!1}};f.mixin.eventDispatcher.mix(U.prototype);b.extend(U.prototype,{createModel:function(a){(!a||"object"!==typeof a)&&c(V,null,[t(ca)]);if(!b.isArray(a))return this.models[a.name]?this.models[a.name]:F(a,this);var d=a.length;d||c(V,null,[t(ca)]);for(var j={},e=[],g=0;g<d;g++){var f=
a[g].name;if(this.models[f])h[g]=manager.models[a.name];else try{e.push(f);f=[];a[g].base&&f.push(a[g].base.substring(1));for(var p in a[g].schema){var k=a[g].schema[p];if(k){var r=k.type;r&&"@"===r.substring(0,1)&&(r=-1===r.indexOf("[]")?r.substring(1):r.substring(1,r.length-2),f.push(r))}}j[g]={depends:f}}catch(m){c(V)}}for(var h={size:0};h.size<d;){p={};k=!1;for(g=0;g<d;g++)if(!j[g].registed){for(var f=j[g].depends,r=0,z=f.length;r<z;r++)if(!this.models[f[r]]){p[f[r]]=!0;break}r===z&&(h[g]=F(a[g],
this),h.size++,k=!0,j[g].registed=!0)}if(!k){var g=!0,i;for(i in p)if(-1===b.inArray(i,e)){g=!1;break}g&&c(15004);c(V,null,[t(na,i)])}}a=[];for(g=0;g<d;g++)a.push(h[g]);return a},dropModel:function(b){if((b=x(b)?b:"object"===typeof b?b.name:null)&&this.models[b]){var a=this.models[b];a._manager=null;delete this.models[b];return a}},isInUpdate:function(){return null!==this._updateLogs},beginUpdate:function(){this.isInUpdate()||(this._updateLogs={})},endUpdate:function(){if(this.isInUpdate()){var b=
!this._isArrayPropChangeSilentlyRequested,a=this._updateLogs,c=this._oldValueLogs;this._oldValueLogs=this._updateLogs=null;var d={},j;for(j in a)if(a.hasOwnProperty(j)){var e;e=this.models[j];var g=a[j],f=[],p=[],k=[],r=[],m=void 0;for(m in g){for(var h=g[m],z=!0,i=[],E=h.length-1;0<=E;E--){var q=h[E],J=q.type;if(J===Ra)i.push(q.ev);else{a:{for(z=0;z<E;z++){var M=h[z].type;if(1===M||3===M){E=h[z];break a}}E=null}if(1===J)E&&3===E.type?f.push({id:m,oldItem:E.item,newItem:q.item}):p.push(q.item);else if(E=
E&&3===E.type?E.item:E?null:q.item)r.push(E),E.dispatchEvent({type:"remove",model:e});z=!1;break}}if(z&&0<i.length){q={};for(E=i.length-1;0<=E;E--)for(var o in i[E].props)q[o]||(N(e.get(m).get(o))?(J=c&&c[e.name]&&c[e.name][m]&&c[e.name][m][o],e.get(m).get(o).equals(J)||(q[o]={oldValue:J})):q[o]={oldValue:i[E].props[o].oldValue});E=!1;for(o in q)J=q[o].oldValue,h=e.get(m).get(o),J===h||l(J)&&l(h)?delete q[o]:(E=e.get(m).get(o),b&&N(E)&&E.dispatchEvent({type:"change",method:null,args:null,returnValue:null}),
q[o].newValue=E,E=!0);E&&(i={type:"change",target:i[0].target,props:q},k.push(i),i.target.dispatchEvent(i))}}(e=0===p.length&&0===f.length&&0===r.length&&0===k.length?!1:{created:p,recreated:f,removed:r,changed:k})&&(d[j]=e)}b=!1;for(j in d)b=!0,e=d[j],this.models[j].dispatchEvent({type:"itemsChange",created:e.created,recreated:e.recreated,removed:e.removed,changed:e.changed});d={type:"itemsChange",models:d};b&&this.dispatchEvent(d)}},_dataModelItemsChangeListener:function(b){var a=b.target.manager,
c={};c[b.target.name]=b;a.dispatchEvent({type:"itemsChange",models:c})}});f.mixin.eventDispatcher.mix(fa.prototype);b.extend(fa.prototype,{create:function(a){this._manager||c(15006,[this.name,"create"]);var d=this.validate(a,!0);if(d)throw d;(d=this._manager?this._manager.isInUpdate():!1)||this._manager.beginUpdate();for(var j=[],e=K(a),g=[],f=this._idKey,p=0,r=e.length;p<r;p++){var m=e[p],h=m[f],z=this._findById(h);z?(g.push(z),(h=k(z,m,[f]))&&B(this,h)):(m=new this._itemConstructor(m),this.items[h]=
m,this.size++,j.push(m),g.push(m))}0<j.length&&I(this,1,j);d||this._manager.endUpdate();return b.isArray(a)?g:g[0]},validate:function(d,j){try{var e=this._idKey,g=K(d);"object"!==typeof d&&!b.isArray(d)&&c(15007);if(j)for(var f=0,p=g.length;f<p;f++){var k=g[f],r=k[e];(""===r||null==r)&&c(15002,[this.name,e]);var m=this._schemaInfo._createInitialValueObj(k);a(this.schema,this._schemaInfo._validateItemValue,m,this)}else for(var f=0,h=g.length;f<h;f++)k=g[f],a(this.schema,this._schemaInfo._validateItemValue,
k,this)}catch(z){return z}return null},get:function(a){if(b.isArray(a)||f.core.data.isObservableArray(a)){for(var d=[],c=0,j=a.length;c<j;c++)d.push(this._findById(a[c]));return d}return this._findById(a)},remove:function(a){this._manager||c(15006,[this.name,"remove"]);var d=this._manager?this._manager.isInUpdate():!1;d||this._manager.beginUpdate();for(var j=this._idKey,e=K(a),g=[],f=[],p=0,k=e.length;p<k;p++)if(this.has(e[p])){var r=x(e[p])||y(e[p],!0)?e[p]:e[p]._values[j],m=this.items[r];delete this.items[r];
this.size--;f.push(m);m._model&&(m._isRemoved=!0);g.push(m)}else f.push(null);0<g.length&&I(this,3,g);d||this._manager.endUpdate();return b.isArray(a)?f:f[0]},removeAll:function(){var b=this.toArray();0<b.length&&this.remove(b);return b},has:function(a){return x(a)||y(a,!0)?!!this._findById(a):"object"===typeof a?null!=a&&b.isFunction(a.get)&&a===this.items[a.get(this._idKey)]:!1},getManager:function(){return this._manager},_findById:function(b){b=this.items[b];return void 0===b?null:b},_dispatchItemsChangeEvent:function(b){b=
{type:"itemsChange",created:[],recreated:[],removed:[],changed:[b]};this.dispatchEvent(b);this._manager&&(b.target=this,this._manager._dataModelItemsChangeListener(b))},toArray:function(){var b=[],a=this.items,d;for(d in a)a.hasOwnProperty(d)&&b.push(a[d]);return b}});f.mixin.eventDispatcher.mix(la.prototype);b.extend(la.prototype,Sa,{validate:function(b){try{var d=b;2===arguments.length&&(d={},d[arguments[0]]=arguments[1]);a(this.schema,this._validateItemValue,d)}catch(c){return c}return null}});
f.mixin.eventDispatcher.mix(ea.prototype);var Ba={equals:function(a){var d=this.length;if(!b.isArray(a)&&!N(a)||a.length!==d)return!1;for(var a=N(a)?a._src:a,c=0;c<d;c++){var j=this[c],e=a[c];if(!(j===e||l(j)&&l(e)))return!1}return!0},copyFrom:function(a){null==a&&(a=[]);a=N(a)?a._src:a;b.isArray(a)||c(15010,[0,a]);a=a.slice(0);a.unshift(0,this.length);Array.prototype.splice.apply(this,a)},get:function(b){return this[b]},set:function(b,a){this[b]=a},toArray:function(){return this.slice(0)},concat:function(){for(var b=
f.u.obj.argsToArray(arguments),a=0,d=b.length;a<d;a++)N(b[a])&&(b[a]=b[a].toArray());return this.concat.apply(this,b)}},Ca="concat,join,pop,push,reverse,shift,slice,sort,splice,unshift,indexOf,lastIndexOf,every,filter,forEach,map,some,reduce,reduceRight".split(","),ia;for(ia in Ba)Ba.hasOwnProperty(ia)&&-1===b.inArray(ia,Ca)&&Ca.push(ia);var Ma=["concat","slice","splice","filter","map"],Wa=["reverse","sort"],Ya="sort,reverse,pop,shift,unshift,push,splice,copyFrom,set".split(",");ia=0;for(var ya=Ca.length;ia<
ya;ia++){var Z=Ca[ia];ea.prototype[Z]=function(a){function d(){var j=c.apply(this._src,arguments);if(-1!==b.inArray(a,Wa))j=this;else if(-1!==b.inArray(a,Ma)){var e=ma();e.copyFrom(j);j=e}return j}var c=Ba[a]?Ba[a]:Array.prototype[a];return-1===b.inArray(a,Ya)?d:function(){if(!this.dispatchEvent({type:"changeBefore",method:a,args:arguments})){var b=d.apply(this,arguments);this.length=this._src.length;this.dispatchEvent({type:"change",method:a,args:arguments,returnValue:b});return b}}}(Z)}f.u.obj.expose("h5.core.data",
{createManager:function(b,a){ja(b)||c(ba);var d=new U(b);if(null!=a){""===a&&(a="window");var j={};j[b]=d;f.u.obj.expose(a,j)}return d},createObservableArray:ma,createObservableItem:function(b){w(b,!1,null,!0);var d=u(b);C(b,d,!0);var c=new la,d=S(b,d);m(c,b,d);c.schema=b;for(var j in d)c[j]=d[j];j=d._createInitialValueObj();a(b,d._validateItemValue,j);k(c,j,null,!0);b=0;for(d=c._aryProps.length;b<d;b++)s(c,c._aryProps[b],c.get(c._aryProps[b]));return c},isObservableArray:N,isObservableItem:function(a){return!(!a||
!a.constructor||!a._validateItemValue||b.isFunction(a.getModel))},createSequence:function(a,d,c){function j(){return k}function e(){var b=k;k+=r;return b}function g(){return k.toString()}function f(){var b=k;k+=r;return b.toString()}function p(){}var k=null!=a?a:1,r=null!=d?d:1,a=1===c?{current:g,next:f,returnType:1}:{current:j,next:e,returnType:2};a.setCurrent=function(b){k=b};b.extend(p.prototype,a);return new p},SEQ_STRING:1,SEQ_INT:2})})();(function(){function h(b,a){return!b||b.nodeType!==R?
void 0:b.getAttribute(a)}function A(b){if(!b)return null;for(var a=[],d=0,c=b.length;d<c;d++)a.push(b[d]);return a}function l(b,a,d,c){var e=[],a=K(a);if(!0===c)return v(e,b,a,d),e;for(var b=b.childNodes,c=0,g=b.length;c<g;c++)v(e,b[c],a,d);return e}function v(b,a,d,c){if(a.nodeType===R){for(var e=0,g=d.length;e<g;e++){var f=a.getAttribute(d[e]);if(void 0===c){if(null!==f){b.push(a);break}}else if(null!==f&&f==c){b.push(a);break}}if(0<a.childNodes.length){a=a.childNodes;e=0;for(g=a.length;e<g;e++)v(b,
a[e],d,c)}}}function y(a,d){for(var a=K(a),c=[],e=0,f=a.length;e<f;e++){var m=a[e];if(m.nodeType===R&&!(!0===d&&(null!=h(m,g)||null!=h(m,I))))for(var i=l(m,k,void 0,!0),q=0,o=i.length;q<o;q++){for(var t=!0,s=i[q];null!=s&&s!==m;s=s.parentNode)if(null!=h(s,g)||null!=h(s,I)){t=!1;break}t&&c.push(i[q])}}return b(c)}function x(a,d,c){for(var e=[],f=0,k=a.length;f<k;f++){var m=a[f];if(m.nodeType===R){if(!0===c){if(null!=m.getAttribute(d)){e.push(m);continue}if(null!=h(m,g)||null!=h(m,I))continue}for(var i=
l(m,d,void 0,!1),q=0,o=i.length;q<o;q++){var t=b(i[q])[0],s=t.parentNode;(null==h(s,g)&&null==h(s,I)||s===m)&&e.push(t)}}}return b(e)}function w(a){return a&&a.addEventListener&&a.getModel&&!b.isArray(a)&&!f.core.data.isObservableArray(a)||f.core.data.isObservableItem(a)?!0:!1}function C(a,b){for(var d=0,c=a.length;d<c;d++){var g=a[d];g.nodeType===R&&g.setAttribute(e,b)}}function u(a,d,e){var g=N++,k=d[0];b(k).empty();if(e){!b.isArray(e)&&!f.core.data.isObservableArray(e)&&c(ea);C(d,g);a._addBindingEntry(e,
k,g);f.core.data.isObservableArray(e)&&!a._isWatching(e)&&(d=function(b){a._observableArray_changeListener(b)},a._listeners[a._getContextIndex(e)]=d,e.addEventListener("change",d));var d=h(k,B),d=A(a._getSrcCtxNode(d).childNodes),m=[];a._loopElementsMap[g]=m;for(var g=k.ownerDocument.createDocumentFragment(),i=e.get?function(a){return e.get(a)}:function(a){return e[a]},l=0,q=e.length;l<q;l++){for(var t=[],s=0,u=d.length;s<u;s++){var I=V(d[s]);t.push(I);g.appendChild(I)}m[l]=t;k.appendChild(g);o(a,
t,i(l),!1,!0)}}}function o(a,d,e,g,k){d=K(d);if(g)u(a,d,e);else{g=N++;e&&(("object"!==typeof e||b.isArray(e)||f.core.data.isObservableArray(e))&&c(ea),C(d,g),a._addBindingEntry(e,d,g));var m=w(e);m&&!a._isWatching(e)&&(g=function(b){a._observableItem_changeListener(b)},a._listeners[a._getContextIndex(e)]=g,e.addEventListener("change",g));y(d,k).each(function(){G(this,e,m)});i(a,d,e,!1,k);i(a,d,e,!0,k)}}function i(a,b,d,c,e){var g=c?"data-h5-loop-context":"data-h5-context";x(b,g,e).each(function(){var b=
h(this,g),e=null;d&&(e=w(d)?d.get(b):d[b]);o(a,this,e,c)})}function G(a,d,e){for(var g=h(a,k).split(U),f=[],m=[],i=[],l=0,q=g.length;l<q;l++){var o=g[l];if(-1===o.indexOf(s))0<b.trim(o).length&&(f.push(null),m.push(null),i.push(b.trim(o)));else{var t=o.split(s),o=b.trim(t[0]),t=b.trim(t[1]),B=null,u=fa.exec(o);u&&(B=u[1],o=/(\S+)[\s\(]/.exec(o)[1]);0<o.length&&0<t.length&&(f.push(o),m.push(B),i.push(t))}}g=a.tagName.toLowerCase();l=b(a);q=0;for(o=f.length;q<o;q++){var B=f[q],u=m[q],j=i[q],t=null;
d&&(t=e?d.get(j):d[j]);null==B&&("input"===g?(B="attr",u="value"):B="text");switch(B){case "text":null==t?l.text(""):l.text(t);break;case "html":null==t?l.html(""):l.html(t);break;case "class":var B=h(a,S),j=(u=null==B)?"":" ",z=!1;t&&(z=!RegExp("\\s"+t+"\\s").test(" "+B+" "));l[0].className=(u?"":B)+(z?j+t:"");break;case "attr":u||c(ka);"input"===g&&"value"===u?null==t?l.val(""):l.val(t):null==t?l.removeAttr(u):l.attr(u,t);break;case "style":u||c(ka);null==t?l.css(u,""):l.css(u,t);break;default:c(la)}}}
function m(a,b,d){for(var c=0,e=d.length;c<e;c++){var g=d[c];b.removeChild(g);a._removeBinding(g)}}function q(a){for(var a=a.childNodes,b=[],d=0,c=a.length;d<c;d++)b.push(V(a[d]));return b}function t(a,b,d,c,e){for(var g=d.ownerDocument.createDocumentFragment(),f=[],k=0,m=e.length;k<m;k++){var h=q(d);f[k]=h;for(var i=0,l=h.length;i<l;i++)g.appendChild(h[i]);o(a,h,e[k])}Array.prototype[c].apply(b,f);return g}function d(a,b,d,c,e,g){var f=c.length;if(0!==f){for(var k=c[0],h=k,d=1===f?d.length:h+c[1];h<
d;h++){var i=e[h];i&&m(a,b,i)}e.splice(k,c[1]);if(!(2>=f)){h=e.length;h=0===h||0===k?b.firstChild:k>=h?null:e[k][0];d=g.ownerDocument.createDocumentFragment();k=[k,0];for(i=2;i<f;i++){for(var l=q(g),t=0,s=l.length;t<s;t++)d.appendChild(l[t]);o(a,l,c[i]);k.push(l)}b.insertBefore(d,h);Array.prototype.splice.apply(e,k)}}}function a(a,b){void 0!==a.nodeType?a.nodeType===R&&(this._parent=a.parentNode,this._targets=[a]):(this._parent=a[0].parentNode,this._targets=A(a));this._bindRootId=P++;Q[this._bindRootId]=
this;for(var d=[],c=0,e=this._targets.length;c<e;c++){var f=this._targets[c];if(f.nodeType===R){f.setAttribute(F,this._bindRootId);for(var m=l(f,[g,I],void 0,!0),i=0,q=m.length;i<q;i++){var t=ma++;m[i].setAttribute(B,t)}m=l(f,k,void 0,!0);i=0;for(q=m.length;i<q;i++)t=m[i],/class\s*:/.test(h(t,k))&&""!=t.className&&t.setAttribute(S,t.className)}d.push(f.cloneNode(!0))}this._srces=d;this._loopElementsMap={};this._rootContext=b;this._usingContexts=[];this._srcToViewMap={};this._listeners={};o(this,this._targets,
this._rootContext,!1,!0)}var k="data-h5-bind",g="data-h5-context",I="data-h5-loop-context",B="data-h5-dyn-ctx",e="data-h5-dyn-vid",F="data-h5-dyn-bind-root",S="data-h5-dyn-cn",s=":",U=";",fa=/\(\s*(\S+)\s*\)/,ka=7100,la=7101,ea=7102,ma=0,N=0,P=0,Q={},ba={},V;(function(){var a=document.createElement("div");a.h5Dummy="a";var d=a.cloneNode(!1),c=void 0!==d.h5Dummy;a.h5Dummy=void 0;c?(d.h5Dummy=void 0,V=function(a){var d=a.ownerDocument;return a.nodeType===R?b(b.trim(a.outerHTML),d)[0]:a.cloneNode(!0)}):
V=function(a){return a.cloneNode(!0)}})();b.extend(a.prototype,{unbind:function(){for(var a=0,b=this._targets.length;a<b;a++){var d=this._targets[a];if(d.nodeType===R){this._removeBinding(d);d.removeAttribute(F);for(var c=l(d,S,void 0,!0),e=0,g=c.length;e<g;e++)c[e].removeAttribute(S);d=l(d,B,void 0,!0);e=0;for(c=d.length;e<c;e++)d[e].removeAttribute(B)}}delete Q[this._bindRootId]},_observableArray_changeListener:function(a){var b=this._getViewsFromSrc(a.target);if(b)for(var c in b)if(b.hasOwnProperty(c)){var e=
b[c],g=this._getSrcCtxNode(h(e,B)),f=this._loopElementsMap[c];switch(a.method){case "set":d(this,e,a.target,[a.args[0],1,a.args[1]],f,g);break;case "shift":case "pop":var k=f[a.method]();k&&m(this,e,k);break;case "unshift":k=t(this,f,g,a.method,a.args);e.insertBefore(k,e.firstChild);break;case "push":k=t(this,f,g,a.method,a.args);e.appendChild(k);break;case "splice":d(this,e,a.target,a.args,f,g);break;case "reverse":for(var k=e,i=f;k.firstChild;)k.removeChild(k.firstChild);for(var l=0,e=i.length;l<
e;l++)for(var g=i[l],s=g.length-1;0<=s;s--)k.insertBefore(g[s],k.firstChild);f.reverse();break;case "sort":case "copyFrom":case null:for(var k=this._loopElementsMap,i=c,l=a.target,s=f,f=g,g=0,u=s.length;g<u;g++)m(this,e,s[g]);for(var s=e.ownerDocument.createDocumentFragment(),u=[],g=0,I=l.length;g<I;g++){var v=q(f);u[g]=v;for(var j=0,z=v.length;j<z;j++)s.appendChild(v[j]);o(this,v,l.get(g))}e.appendChild(s);k[i]=u}}},_observableItem_changeListener:function(a){var b=this._getViewsFromSrc(a.target);
if(b){var d=!1;a.target===this._rootContext&&(d=!0);var c=this,e;for(e in b)if(b.hasOwnProperty(e)){var f=b[e];y(f,d).each(function(){G(this,a.target,!0)});x(f,g).each(function(){var b=h(this,g);if(!(b in a.props))return!0;c._removeBinding(this);var d=h(this,B),d=c._getSrcCtxNode(d),d=V(d);this.parentNode.replaceChild(d,this);o(c,d,a.props[b].newValue)});x(f,I).each(function(){var b=h(this,I);if(!(b in a.props)||a.target._isArrayProp(b))return!0;c._removeBinding(this);o(c,this,a.props[b].newValue,
!0)})}}},_getSrcCtxNode:function(a){for(var b=0,d=this._srces.length;b<d;b++){var c=this._srces[b];if(h(c,B)===a)return c;c=l(c,B,a);if(0<c.length)return c[0]}return null},_isWatching:function(a){a=this._getContextIndex(a);return-1===a?!1:null!=this._listeners[a]},_getContextIndex:function(a){return b.inArray(a,this._usingContexts)},_addBindingEntry:function(a,b,d){var c=this._getContextIndex(a);-1===c&&(this._usingContexts.push(a),c=this._usingContexts.length-1);ba[d]=a;(a=this._srcToViewMap[c])?
a[d]=b:(a={},a[d]=b,this._srcToViewMap[c]=a)},_hasBindingForSrc:function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1},_removeBindingEntry:function(a){var b=ba[a];if(b){var d=this._getContextIndex(b);if(-1!==d){var c=this._srcToViewMap[d];c&&c[a]&&(delete c[a],this._hasBindingForSrc(c)||(c=!1,w(b)?(b.removeEventListener("change",this._listeners[d]),c=!0):f.core.data.isObservableArray(b)&&(b.removeEventListener("change",this._listeners[d]),c=!0),c&&delete this._listeners[d],delete this._srcToViewMap[d],
this._usingContexts[d]=null))}ba[a]&&delete ba[a]}},_removeBinding:function(a){if(a.nodeType===R){var b=h(a,e);null!=b&&(this._removeBindingEntry(b),a.removeAttribute(e));for(var a=l(a,e),b=0,d=a.length;b<d;b++){var c=a[b];this._removeBindingEntry(h(c,e));c.removeAttribute(e)}}},_getViewsFromSrc:function(a){a=this._getContextIndex(a);return-1===a?null:this._srcToViewMap[a]}});cb={createBinding:function(b,d){return new a(b,d)}}})();(function(){function h(c){return f.u.obj.isJQueryObject(c)?c:b(c)}
function A(){this.__cachedTemplates={}}var l="[",v=7001,y=7002,H=7003,w=7010,C=7011,u=f.async.deferred,o={escapeHtml:function(b){return f.u.str.escapeHtml(b)}},i={MAX_CACHE:10,cache:{},cacheUrls:[],accessingUrls:{},append:function(b,c,f){this.cacheUrls.length>=this.MAX_CACHE&&this.deleteCache(this.cacheUrls[0]);this.cache[b]={};this.cache[b].templates=c;this.cache[b].path=f;this.cacheUrls.push(b)},deleteCache:function(b,c){c||delete this.cache[b];for(var f=0,d=this.cacheUrls.length;f<d;f++)if(this.cacheUrls[f]===
b){this.cacheUrls.splice(f,1);break}},getTemplateByUrls:function(m){function h(a){if(0!==a.length){var d={},e=[];a.each(function(){var a=b.trim(this.id),g=b.trim(this.innerHTML);a||c(y,null,{});try{var f=new EJS.Compiler(g,l);f.compile();d[a]=f.process;e.push(a)}catch(k){g=k.lineNumber,c(w,[g?" line:"+g:"",k.message],{id:a,error:k,lineNo:g})}});return{compiled:d,data:{ids:e}}}}function i(a,d,c){f.ajax(d).done(function(d,e,f){delete g.accessingUrls[a];d=b(f.responseText).filter(function(){return this.tagName&&
-1===this.tagName.indexOf("/")&&8!==this.nodeType});e=this.url;if(0<d.not('script[type="text/ejs"]').length)c.reject(X(C,null,{url:a,path:e}));else{f=null;try{f=h(d.filter('script[type="text/ejs"]'))}catch(k){k.detail.url=a;k.detail.path=e;c.reject(k);return}var m,i;try{var l=f.compiled;i=f.data;i.path=e;i.absoluteUrl=a;m=l;g.append(a,l,e)}catch(o){c.reject(X(v,null,{error:o,url:a,path:e}));return}c.resolve({ret:m,data:i})}}).fail(function(b){delete g.accessingUrls[a];c.reject(X(H,[b.status,a],{url:a,
path:d,error:b}))})}for(var d={},a=[],k=[],g=this,o=function(a){var b=g.cache[a].templates;g.deleteCache(a,!0);g.cacheUrls.push(a);return b},B=0;B<m.length;B++){var e=m[B],A=aa(e);if(this.cache[A])b.extend(d,o(A)),k.push({absoluteUrl:A});else if(this.accessingUrls[A])a.push(this.accessingUrls[A]);else{var x=f.async.deferred();a.push(this.accessingUrls[A]=x.promise());i(A,e,x)}}var s=u();f.async.when(a).done(function(){for(var a=f.u.obj.argsToArray(arguments),c=0,e=a.length;c<e;c++)b.extend(d,a[c].ret),
k.push(a[c].data);s.resolve(d,k)}).fail(function(a){s.reject(a)});return s.promise()}};b.extend(A.prototype,{load:function(f){var h=u(),l=this,d=null;switch(b.type(f)){case "string":b.trim(f)||c(7004);d=[f];break;case "array":d=f;0===d.length&&c(7004);for(var f=0,a=d.length;f<a;f++)x(d[f])?b.trim(d[f])||c(7004):c(7004);break;default:c(7004)}i.getTemplateByUrls(d).done(function(a,d){b.extend(l.__cachedTemplates,a);h.resolve(d)}).fail(function(a){h.reject(a)});return h.promise()},getAvailableTemplates:function(){var b=
[],c;for(c in this.__cachedTemplates)b.push(c);return b},register:function(f,h){"string"!==b.type(h)?c(7E3,null,{id:f}):(!x(f)||!b.trim(f))&&c(y,[]);try{var i=new EJS.Compiler(h,l);i.compile();this.__cachedTemplates[f]=i.process}catch(d){i=d.lineNumber,c(w,[i?" line:"+i:"",d.message],{id:f})}},isValid:function(b){try{return(new EJS.Compiler(b,l)).compile(),!0}catch(c){return!1}},get:function(f,h){var i=this.__cachedTemplates;(!x(f)||!b.trim(f))&&c(y);(i=i[f])||c(7005,f);var d=h?b.extend(!0,{},h):
{},a=d.hasOwnProperty("_h")?new EJS.Helpers(d):new EJS.Helpers(d,{_h:o}),k=null;try{k=i.call(d,d,a)}catch(g){c(7006,g.toString(),g)}return k},update:function(b,c,f){return h(b).html(this.get(c,f))},append:function(b,c,f){return h(b).append(this.get(c,f))},prepend:function(b,c,f){return h(b).prepend(this.get(c,f))},isAvailable:function(b){return!!this.__cachedTemplates[b]},clear:function(f){if(void 0===f)this.__cachedTemplates={};else{var h=null;switch(b.type(f)){case "string":h=[f];break;case "array":f.length||
c(y);h=f;break;default:c(y)}for(var f=0,i=h.length;f<i;f++){var d=h[f];(!x(d)||!b.trim(d))&&c(y)}f=0;for(i=h.length;f<i;f++)delete this.__cachedTemplates[h[f]]}},bind:function(h,i){var l=null;null==h&&c(7007);b.isArray(h)?l=h:(l=b(h),0===l.length&&c(7007),l=l.toArray());(null==i||"object"!==typeof i||b.isArray(i)||f.core.data.isObservableArray(i))&&c(7009);return cb.createBinding(l,i)}});var G=new A;G.createView=function(){return new A};b(function(){b('script[type="text/ejs"]').each(function(){var c=
b.trim(this.id),f=b.trim(this.innerHTML);0!==f.length&&c&&(f=new EJS.Compiler(f,l),f.compile(),G.__cachedTemplates[c]=f.process)})});f.u.obj.expose("h5.core",{view:G})})();(function(){function c(a){var d={},e;for(e in ba){var f=b("<div></div>").addClass(a).addClass(e).appendTo("body"),g=b.camelCase(e);d[g]={};b.map(ba[e],function(a){d[g][a]="width"===a||"height"===a?parseInt(f.css(a).replace(/\D/g,""),10):f.css(a)});f.remove()}return d}function A(a,b,d){var a=b.createElement("v:"+a),c;for(c in d)a.style[c]=
d[c];return a}function l(a,b){for(var d=[],c=a/2,e=0.8*a/2,f=360/b*Math.PI/180,g=1;g<=b;g++){var k=f*g,h=Math.cos(k),k=Math.sin(k);d.push({from:{x:c+e/2*h,y:c+e/2*k},to:{x:c+e*h,y:c+e*k}})}return d}function v(a){return function(){var b=document.body,d=document.documentElement,c=J?b:M?d:null;return c?"Height"===a?c["client"+a]>c["scroll"+a]?c["client"+a]:c["scroll"+a]:c["client"+a]:Math.max(b["scroll"+a],d["scroll"+a],b["offset"+a],d["offset"+a],d["client"+a])}}function y(a){return function(){var b=
J?document.body:document.documentElement;return window["page"+("Top"===a?"Y":"X")+"Offset"]||b["scroll"+a]}}function H(a){var b=J?document.body:document.documentElement;return N.isiOS?window["inner"+a]:b["client"+a]}function w(a){var d=b(a)[0],c=document.body,e=b("html")[0],a={top:0,left:0};if(d===c&&M)return{top:parseFloat(e.currentStyle.paddingTop||0)+parseFloat(c.currentStyle.marginTop||0)+parseFloat(c.currentStyle.borderTop||0),left:parseFloat(e.currentStyle.paddingLeft||0)+parseFloat(c.currentStyle.marginLeft||
0)+parseFloat(c.currentStyle.borderLeft||0)};"undefined"!==typeof d.getBoundingClientRect&&(a=d.getBoundingClientRect());c=J?c:document.documentElement;d=c.clientTop||0;c=c.clientLeft||0;return{top:a.top+ra()-d,left:a.left+na()-c}}function C(){b.each(aa(arguments),function(a,b){b.bind("click dblclick touchstart touchmove touchend mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave focus focusin focusout blur change select",function(){return!1})})}function u(a){a=W(a)?a[0]:a;return a===
window||a===document||a===document.body}function o(a){return Q(P(a)).getComputedStyle(a,null)}function i(a,d){return!Q(P(a)).getComputedStyle?b(a).css(d):o(a)[d]}function G(a){if(!Q(P(a)).getComputedStyle)return b(a).height();var d=o(a);return a.offsetHeight-parseFloat(d.paddingTop)-parseFloat(d.paddingBottom)}function m(a){if(!Q(P(a)).getComputedStyle)return b(a).width();var d=o(a);return a.offsetWidth-parseFloat(d.paddingLeft)-parseFloat(d.paddingRight)}function q(a,d){if(!Q(P(a)).getComputedStyle)return b(a).outerHeight();
var c=o(a);return G(a)+parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth)+(d?parseFloat(c.marginTop)+parseFloat(c.marginBottom):0)}function t(a,d){if(!Q(P(a)).getComputedStyle)return b(a).outerWidth();var c=o(a);return m(a)+parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)+parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth)+(d?parseFloat(c.marginLeft)+parseFloat(c.marginRight):0)}function d(a){if(!Q(P(a)).getComputedStyle)return b(a).innerHeight();
var d=o(a);return G(a)+parseFloat(d.paddingTop)+parseFloat(d.paddingBottom)}function a(a){if(!Q(P(a)).getComputedStyle)return b(a).innerWidth();var d=o(a);return m(a)+parseFloat(d.paddingLeft)+parseFloat(d.paddingRight)}function k(a,d,c,e){function f(){k+=g;k>c?(clearInterval(l),d.each(function(b){for(var d in a[b])this.style[d]=""}),e()):d.each(function(a){var d=h[a],c;for(c in d)d[c]+=i[a][c];b(this).css(d)})}var g=ma,k=0,h=[],i=[];d.each(function(b){var e=a[b];i[b]={};h[b]={};var f=o(d[b]),k;for(k in e)h[b][k]=
parseFloat(f[k]),i[b][k]=(parseFloat(e[k])-parseFloat(f[k]))*g/c});f();var l=setInterval(f,g)}function g(a,b,d){var c=[];a.each(function(){var a=parseFloat(i(this,"opacity"));c.push({opacity:a})});a.css({opacity:0,display:"block"});k(c,a,b,d)}function I(a,b,d){var c=[];a.each(function(){c.push({opacity:0})});k(c,a,b,d)}function B(a,d){this.style=b.extend(!0,{},a);if(!d.getElementById(ka)){d.namespaces.add("v","urn:schemas-microsoft-com:vml");var c=d.createElement("style");d.getElementsByTagName("head")[0].appendChild(c);
c.id=ka;c.setAttribute("type","text/css");c.styleSheet.cssText="v\\:stroke,v\\:line,v\\:textbox { behavior:url(#default#VML); }"}c=this.style.throbber.width;this.group=A("group",d,{width:c+"px",height:this.style.throbber.height+"px"});this.group.className=K;for(var c=l(c,this.style.throbber.lines),e=this.style.throbberLine.color,f=this.style.throbberLine.width,g=0,k=c.length;g<k;g++){var h=c[g],i=h.from,m=h.to,h=A("line",d);h.strokeweight=f;h.strokecolor=e;h.fillcolor=e;h.from=i.x+","+i.y;h.to=m.x+
","+m.y;i=A("stroke",d);i.opacity=1;h.appendChild(i);this.group.appendChild(h)}this._createPercentArea(d)}function e(a,d){var e=this,g=b(a);if(g.length){var k=u(g),g=k?b("body"):g,i=P(g[0]);if(i!==window.document&&(g[0]===i||Q(i)===g[0]))g=b(i.body);var l=b.extend(!0,{},{message:"",percent:-1,block:!0,fadeIn:-1,fadeOut:-1,promises:null,theme:"a"},d);this._displayed=!1;this._throbbers=[];this._settings=l;this._styles=b.extend(!0,{},{throbber:{roundTime:1E3,lines:12},throbberLine:{},percent:{}},c(l.theme));
this._isScreenLock=k;this._$target=g;this._target=1===this._$target.length?this._$target[0]:this._$target.toArray();this._scrollEventTimerId=null;this._scrollHandler=function(){e._handleScrollEvent()};this._resizeEventTimerId=null;this._resizeHandler=function(){e._handleResizeEvent()};this._redrawable=!0;this._lastPercent=-1;this._lastMessage=null;this._fadeInTime="number"===typeof l.fadeIn?l.fadeIn:-1;this._fadeOutTime="number"===typeof l.fadeOut?l.fadeOut:-1;this._$content=b();this._$overlay=b();
this._$skin=b();for(var g=f.u.str.format(R,""===l.message?'style="display: none;"':"",l.message),k="https"===document.location.protocol?"return:false":"about:blank",m=0,o=this._$target.length;m<o;m++)this._$content=this._$content.add(b(i.createElement("div")).append(g).addClass(F).addClass(l.theme).addClass(S).css("display","none")),this._$overlay=this._$overlay.add((l.block?b(i.createElement("div")):b()).addClass(F).addClass(l.theme).addClass(s).css("display","none")),this._$skin=this._$skin.add((M||
J?b(i.createElement("iframe")):b()).attr("src",k).addClass(F).addClass(U).css("display","none"));var p=this._isScreenLock&&O?"fixed":"absolute";b.each([this._$overlay,this._$content],function(){this.css("position",p)});i=l.promises;l=function(){e.hide()};g=b.hasOwnProperty("curCSS")?"pipe":"then";b.isArray(i)?(i=b.map(i,function(a){return a&&b.isFunction(a.promise)?a:null}),0<i.length&&sa(f.async.when(i),g,[l,l])):i&&b.isFunction(i.promise)&&sa(i,g,[l,l])}}var F="h5-indicator",S="content",s="overlay",
U="skin",K="vml-root",ka="h5-vmlstyle",R='<span class="indicator-throbber"></span><span class="indicator-message" {0}>{1}</span>',ea=500,ma=13,N=f.env.ua,W=f.u.obj.isJQueryObject,aa=f.u.obj.argsToArray,ba={throbber:["width","height"],"throbber-line":["width","color"]},V=!!document.createElement("canvas").getContext,p=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div"));a.innerHTML='<v:line strokeweight="1"/>';a=a.firstChild;a.style.behavior="url(#default#VML)";
return"number"===typeof a.strokeweight}(),J="CSS1Compat"!==document.compatMode,M=N.isIE&&6>=N.browserVersion,r=N.isChrome&&N.isDesktop,O=!(N.isAndroidDefaultBrowser||N.isiOS&&5>N.browserVersion||M||J||N.isWindowsPhone),X=null,da=null,ca=null,ha=null,ra=null,na=null,ja=function(){var a=document.createDocumentFragment().appendChild(document.createElement("div")),d=["Webkit","Moz","O","ms","Khtml"],c=d.length;return function(e){e=b.camelCase(e);if(e in a.style)return!0;for(var e=e.charAt(0).toUpperCase()+
e.slice(1),g=0;g<c;g++)if(d[g]+e in a.style)return!0;return!1}}(),da=function(a){return function(){var b=document.body,d=document.documentElement;return"number"===typeof window["inner"+a]?window["inner"+a]:J?b["client"+a]:d["client"+a]}}("Height"),ca=v("Height"),ha=v("Width"),ra=y("Top"),na=y("Left"),X=ja("animationName");B.prototype={show:function(a){a&&(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.group),this._run())},hide:function(){this.root.innerHTML="";this._runId&&
(clearTimeout(this._runId),this._runId=null)},_run:function(){for(var a=this.style.throbber.lines,b=this.style.throbber.roundTime,d=this.highlightPos,c=this.group.childNodes,e=0,g=c.length;e<g;e++){var f=c[e];if("textbox"!==f.nodeName){var k=e+1;f.firstChild.opacity=k==d?"1":k==d+1||k==d-1?"0.75":"0.4"}}d==a?d=0:d++;this.highlightPos=d;var h=this;this._runId=setTimeout(function(){h._run.call(h)},Math.floor(b/a))},_createPercentArea:function(a){var d=A("textbox",a),a=b(a.createElement("table"));a.append("<tr><td></td></tr>");
var c=a.find("td");c.width(this.group.style.width);c.height(this.group.style.height);c.css("line-height",this.group.style.height);c.addClass("throbber-percent");d.appendChild(a[0]);this.group.appendChild(d)},setPercent:function(a){b(this.group).find(".throbber-percent").html(a)}};var ga=function(a,d){this.style=b.extend(!0,{},a);this.canvas=d.createElement("canvas");this.baseDiv=d.createElement("div");this.percentDiv=d.createElement("div");var c=this.canvas,e=this.baseDiv,g=this.percentDiv;c.width=
this.style.throbber.width;c.height=this.style.throbber.height;c.style.display="block";c.style.position="absolute";e.style.width=this.style.throbber.width+"px";e.style.height=this.style.throbber.height+"px";e.appendChild(c);g.style.width=this.style.throbber.width+"px";g.style.height=this.style.throbber.height+"px";g.style.lineHeight=this.style.throbber.height+"px";g.className="throbber-percent";e.appendChild(g);this.positions=l(c.width,this.style.throbber.lines)};ga.prototype={show:function(a){a&&
(this.root=a,this.highlightPos=1,this.hide(),this.root.appendChild(this.baseDiv),this._run())},hide:function(){b(this.baseDiv).remove();this._runId&&(r?clearInterval(this._runId):clearTimeout(this._runId),this._runId=null)},_run:function(){var a=this.canvas,b=a.getContext("2d"),d=this.highlightPos,c=this.positions,e=this.style.throbberLine.color,g=this.style.throbberLine.width,f=this.style.throbber.lines,k=this.style.throbber.roundTime;a.width=a.width;for(var h=0,i=c.length;h<i;h++){b.beginPath();
b.strokeStyle=e;b.lineWidth=g;var l=h+1;b.globalAlpha=l==d?1:l==d+1||l==d-1?0.75:0.4;var m=c[h],l=m.from,m=m.to;b.moveTo(l.x,l.y);b.lineTo(m.x,m.y);b.stroke()}d==f?d=0:d++;this.highlightPos=d;if(r){var o=0;this._runId=setInterval(function(){o++;a.style.webkitTransform="rotate("+o+"deg)";360<=o&&(o-=360)},k/360)}else if(X)a.className="throbber-canvas";else{var p=this;this._runId=setTimeout(function(){p._run.call(p)},Math.floor(k/f))}},setPercent:function(a){this.percentDiv.innerHTML=a}};e.prototype=
{show:function(){if(this._displayed||!this._$target||0<this._$target.children("."+F).length)return this;this._displayed=!0;for(var a=this,d=this._fadeInTime,c=function(){var d=b(window);a._isScreenLock&&(C(a._$overlay,a._$content),O||(d.bind("touchmove",a._scrollHandler),d.bind("scroll",a._scrollHandler)));d.bind("orientationchange",a._resizeHandler);d.bind("resize",a._resizeHandler)},e=0,f=this._$target.length;e<f;e++){var k=this._$target.eq(e),h=this._$content.eq(e),l=this._$skin.eq(e),m=this._$overlay.eq(e),
o=i(k[0],"position");!this._isScreenLock&&"static"===o&&(k.data("before-position",o),k.data("before-zoom",i(k[0],"zoom")),k.css({position:"relative",zoom:"1"}));o=P(k[0]);if(o=V?new ga(this._styles,o):p?new B(this._styles,o):null)a._throbbers.push(o),a.percent(this._settings.percent),o.show(h.children(".indicator-throbber")[0]);k.append(l).append(m).append(h)}e=this._$skin.toArray();Array.prototype.push.apply(e,this._$content.toArray());Array.prototype.push.apply(e,this._$overlay.toArray());e=b(e);
0>d?(e.css("display","block"),c()):g(e,d,c);this._reposition();this._resizeOverlay();return this},_resizeOverlay:function(){var a,b;if(!this._isScreenLock||!O)for(var d=0,c=this._$target.length;d<c;d++){b=this._$target.eq(d);var e=this._$overlay.eq(d),g=this._$skin.eq(d);if(this._isScreenLock)a=ha(),b=ca();else{var f=b[0];a=f.scrollWidth;b=f.scrollHeight;if(M)a=Math.max(a,f.clientWidth),b=Math.max(b,f.clientHeight);else if(N.isIE&&"function"===typeof getComputedStyle){var f=Q(P(f)).getComputedStyle(f,
null),k=parseFloat(f.width)+parseFloat(f.paddingLeft)+parseFloat(f.paddingRight);a+=k-parseInt(k)-1;f=parseFloat(f.height)+parseFloat(f.paddingTop)+parseFloat(f.paddingBottom);b+=f-parseInt(f)-1}}e[0].style.width=a+"px";e[0].style.height=b+"px";if(M||J)g[0].style.width=a+"px",g[0].style.height=b+"px"}},_reposition:function(){for(var c=0,e=this._$target.length;c<e;c++){var g=this._$target.eq(c),f=this._$content.eq(c);if(this._isScreenLock){var k=da();O?f.css("top",(k-q(f[0]))/2+"px"):f.css("top",ra()+
k/2-q(f[0])/2+"px")}else f.css("top",g.scrollTop()+(d(g[0])-q(f[0]))/2);var k=a(f[0])-m(f[0]),h=0;f.children().each(function(){var a=b(this);if("none"===i(a[0],"display"))return!0;h+=t(this,!0)});f.css("width",h+k);f.css("left",g.scrollLeft()+(a(g[0])-t(f[0]))/2)}},hide:function(){if(!this._displayed)return this;this._displayed=!1;var a=this,d=this._fadeOutTime,c=this._$skin.toArray();Array.prototype.push.apply(c,this._$content.toArray());Array.prototype.push.apply(c,this._$overlay.toArray());var e=
b(c),c=function(){var d=b(window);e.remove();a._isScreenLock||a._$target.each(function(a,d){var c=b(d);c.css({position:c.data("before-position"),zoom:c.data("before-zoom")});c.removeData("before-position").removeData("before-zoom")});d.unbind("touchmove",a._scrollHandler);d.unbind("scroll",a._scrollHandler);d.unbind("orientationchange",a._resizeHandler);d.unbind("resize",a._resizeHandler);a._resizeEventTimerId&&clearTimeout(a._resizeEventTimerId);a._scrollEventTimerId&&clearTimeout(a._scrollEventTimerId)};
if(!X||r)for(var f=0,g=this._throbbers.length;f<g;f++)this._throbbers[f].hide();0>d?(e.css("display","none"),c()):I(e,d,c);return this},percent:function(a){if("number"!==typeof a||!(0<=a&&100>=a))return this;if(!this._redrawable)return this._lastPercent=a,this;for(var b=0,d=this._throbbers.length;b<d;b++)this._throbbers[b].setPercent(a);return this},message:function(a){if(!x(a))return this;if(!this._redrawable)return this._lastMessage=a,this;this._$content.children(".indicator-message").css("display",
"inline-block").text(a);this._reposition();return this},_handleScrollEvent:function(){this._scrollEventTimerId&&clearTimeout(this._scrollEventTimerId);if(this._redrawable){var a=this;this._scrollEventTimerId=setTimeout(function(){a._reposition();a._scrollEventTimerId=null},50)}},_handleResizeEvent:function(){function a(){b._resizeOverlay();b._reposition();b._redrawable=!0;b.percent(b._lastPercent);b.message(b._lastMessage);b._resizeEventTimerId=null}var b=this;this._resizeEventTimerId&&clearTimeout(this._resizeEventTimerId);
this._redrawable=!1;O||M||J?a():this._resizeEventTimerId=setTimeout(function(){a()},1E3)}};f.u.obj.expose("h5.ui",{indicator:function(a,b){return new e(a,b)},isInView:function(a,d){var c,e,f,g,k=b(a);if(void 0===d)e=H("Height"),g=H("Width"),c=ra(),f=na();else{g=b(d);if(0===g.find(k).length)return;f=w(g);c=f.top+parseInt(g.css("border-top-width"));f=f.left+parseInt(g.css("border-left-width"));e=g.innerHeight();g=g.innerWidth()}e=c+e;g=f+g;var h=w(k),i=h.top,h=h.left,l=i+k.outerHeight(),k=h+k.outerWidth();
return(c<=i&&i<e||c<l&&l<=e)&&(f<=h&&h<g||f<k&&k<=g)},scrollToTop:function(){function a(){1===window.scrollY&&(d=0);0<d&&(window.scrollTo(0,1),d--,setTimeout(a,ea))}var d=3;window.scrollTo(0,1);1!==b(window).scrollTop()&&setTimeout(a,ea)}})})();(function(){function h(){var d=b.mobile.activePage,d=d&&d[0]&&d[0].id;return x(d)&&0<d.length?d:null}function A(){var d=h();null!==d&&b(function(){H.addCSS(d);H.bindController(d)})}function l(b,a){for(var c in C)for(var g=C[c],f=b===c,h=0,e=g.length;h<e;h++){var i=
g[h];if(f)i[(a?"enable":"disable")+"Listeners"]()}for(c in u){g=u[c];f=b===c;h=0;for(e=g.length;h<e;h++)if(i=g[h],f)i[(a?"enable":"disable")+"Listeners"]()}}function v(b,a){b=b.replace(/(\.0+)+$/,"");a=a.replace(/(\.0+)+$/,"");if(b===a)return 0;for(var c=b.split("."),f=a.split("."),h=c.length,i=0;i<h;i++){if(null==f[i])return 1;var e=parseInt(c[i],10),l=parseInt(f[i],10);if(e!==l)return e<l?-1:1}return null!=f[h]?-1:0}var y,H=null,w={},C={},u={},o={},i={},G=!1,m=!1,q=!1;f.u.obj.ns("h5.ui.jqm");f.ui.jqm.dataPrefix=
"h5";var t={__name:"JQMController",__ready:function(){var d=this,a=h();b(':jqmData(role="page"), :jqmData(role="dialog")').each(function(){d.loadScript(this.id)});var c=this.$find("#"+a);c.one("h5controllerready.emulatepageshow",function(){q&&c[0]===b.mobile.activePage[0]&&c.trigger("h5jqmpageshow",{prevPage:b("")})})},':jqmData(role="page"), :jqmData(role="dialog") pageinit':function(b){y||this._initPage(b.event.target.id)},':jqmData(role="page"), :jqmData(role="dialog") pagecreate':function(b){y&&
this._initPage(b.event.target.id)},_initPage:function(b){this.loadScript(b);this.addCSS(b);this.bindController(b)},"{rootElement} pageremove":function(d){b(d.event.target).trigger("h5jqmpagehide",{nextPage:b.mobile.activePage});m=!0;var d=d.event.target.id,a=C[d],c=u[d];if(a){for(var f=0,h=a.length;f<h;f++)a[f].dispose();C[d]=[]}if(c){f=0;for(h=c.length;f<h;f++)c[f].dispose();u[d]=[]}},"{rootElement} pagebeforeshow":function(b){b=b.event.target.id;this.addCSS(b);l(b,!0)},"{rootElement} pagehide":function(c){m||
b(c.event.target).trigger("h5jqmpagehide",{nextPage:c.evArg.nextPage});m=!1;c=c.event.target.id;l(c,!1);this.removeCSS(c)},"{rootElement} pageshow":function(c){var a=!1,f=b(c.event.target),g=c.evArg?c.evArg.prevPage:b("");if(c=C[f[0].id])for(var h=0,i=c.length;h<i;h++)if(!c[h].isReady){f.unbind("h5controllerready.emulatepageshow").one("h5controllerready.emulatepageshow",function(){b.mobile.activePage[0]===f[0]&&f.trigger("h5jqmpageshow",{prevPage:g})});a=!0;break}a||f.trigger("h5jqmpageshow",{prevPage:g})},
"{rootElement} h5controllerbound":function(c){c=c.evArg;if(this!==c){var a=h();null===a||-1!==b.inArray(c,C[a])||(u[a]||(u[a]=[]),u[a].push(c))}},"{rootElement} h5controllerunbound":function(c){var a=c.evArg,c=h();null!==c&&(a=b.inArray(a,u[c]),-1!==a&&u[c].splice(a,1))},loadScript:function(c){var c=b("#"+c),a=b.trim(c.data(this.getDataAttribute("script")));if(0!==a.length)return a=b.map(a.split(","),function(a){return b.trim(a)}),c=!0==c.data(this.getDataAttribute("async")),f.u.loadScript(a,{async:c})},
getDataAttribute:function(b){var a=f.ui.jqm.dataPrefix;null==a&&(a="h5");return 0!==a.length?a+"-"+b:b},bindController:function(b){var a=w[b],c=o[b];if(a&&0!==a.length){C[b]||(C[b]=[]);for(var g=C[b],h=0,i=a.length;h<i;h++){for(var e=a[h],l=!1,m=0,s=g.length;m<s;m++){var q=g[m];if(q&&q.__name===e.__name){l=!0;break}}l||C[b].push(f.core.controller("#"+b,e,c[h]))}}},addCSS:function(c){if(c=i[c])for(var a=document.getElementsByTagName("head")[0],f=a.getElementsByTagName("link"),g=f.length,h=0,l=c.length;h<
l;h++){for(var e=b.mobile.path.parseUrl(c[h]).filename,m=!1,o=0;o<g;o++)if(b.mobile.path.parseUrl(f[o].href).filename===e){m=!0;break}m||(e=document.createElement("link"),e.type="text/css",e.rel="stylesheet",e.href=c[h],a.appendChild(e))}},removeCSS:function(c){var a=i[c];if(a&&(c=h(),null!==c)){var f=i[c];b("link").filter(function(){var c=b(this).attr("href");return-1!==b.inArray(c,a)&&-1===b.inArray(c,f)}).remove()}}};f.u.obj.expose("h5.ui.jqm.manager",{init:function(){G||(G=!0,y=0<=v(b.mobile.version,
"1.4"),b(document).one("pageshow",function(){q=!0}),b(function(){H=bb.controllerInternal("body",t,null,{managed:!1});A()}))},define:function(d,a,f,g){x(d)||c(12E3,"id");null!=a&&!x(a)&&!b.isArray(a)&&c(12E3,"cssSrc");null!=f&&((x(f)||b.isArray(f))&&c(12001),(!b.isPlainObject(f)||!("__name"in f))&&c(12E3,"controllerDefObject"),null!=g&&!b.isPlainObject(g)&&c(12E3,"initParam"));i[d]||(i[d]=[]);w[d]||(w[d]=[]);o[d]||(o[d]=[]);b.merge(i[d],b.map(b.makeArray(a),function(a){return b.inArray(a,i[d])!==-1?
null:a}));f&&-1===b.inArray(f,w[d])&&(w[d].push(f),o[d].push(g));G&&null!==h()?A():this.init()}})})();(function(){function h(){v||(v=navigator.geolocation);return v}function A(b,c){this.oblateness=b;this.semiMajorAxis=c}function l(){}var v=null,x=f.env.ua;A.prototype.getOblateness=function(){return this.oblateness};A.prototype.getSemiMajorAxis=function(){return this.semiMajorAxis};var H=new A(298.257222,6378137),w=new A(299.152813,6377397.155),C=Math.PI/180;b.extend(l.prototype,{isSupported:x.isIE&&
9<=x.browserVersion?!0:!!h(),getCurrentPosition:function(b){var c=f.async.deferred();h().getCurrentPosition(function(b){c.resolve(b)},function(b){c.reject(X(2002,null,b))},b);return c.promise()},watchPosition:function(b){function c(){}var i=f.async.deferred(),l=h().watchPosition(function(b){i.notify(b)},function(b){h().clearWatch(l);i.reject(X(2002,null,b))},b);c.prototype.unwatch=function(){h().clearWatch(l);i.resolve()};return i.promise(new c)},getDistance:function(b,f,h,l,m){(!isFinite(b)||!isFinite(f)||
!isFinite(h)||!isFinite(l))&&c(2E3);var q=m?m:H;q instanceof A||c(2001);var m=q.getSemiMajorAxis(),t=q.getOblateness(),b=b*C,f=f*C,h=h*C,q=l*C,l=(b+h)/2,t=Math.sqrt(2*t-1)/t,t=Math.pow(t,2),d=Math.sqrt(1-t*Math.pow(Math.sin(l),2)),t=m*(1-t)/Math.pow(d,3),m=m/d,f=f-q;return Math.sqrt(Math.pow(t*(b-h),2)+Math.pow(m*Math.cos(l)*f,2))},GS_GRS80:H,GS_BESSEL:w});f.u.obj.expose("h5.api",{geo:new l})})();(function(){function h(a){if(a){var b=a.deferred;(Da(b)||Ea(b)||!a.result)&&c(G)}}function A(a,d,f){if(b.isPlainObject(a))for(var h in a){var i=
b.trim(h).replace(/ +/g," ").split(" "),e=[];""===i[0]?c(q):1===i.length?(e.push(i[0]),e.push("="),e.push("?")):/^(<=|<|>=|>|=|!=|like)$/i.test(i[1])?3===i.length&&/^like$/i.test(i[1])?(e.push(i[0]),e.push(i[1]),e.push("?"),e.push("ESCAPE"),e.push('"'+i[2]+'"')):(e.push(i[0]),e.push(i[1]),e.push("?")):c(m);d.push(e.join(" "));f.push(a[h])}}function l(){}function v(){this._multiple=!1}function y(a){this._db=a;this._df=t();this._tx=null;this._tasks=[];this._queue=[]}function H(a,c,d){this._statements=
[];this._parameters=[];this._executor=a;this._tableName=c;this._columns=b.isArray(d)?d.join(", "):"*";this._orderBy=this._where=null}function w(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c?K(c):[];this._df=t();this._multiple=!0}function C(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._values=c;this._where=null}function u(a,b){this._statements=[];this._parameters=[];this._executor=a;this._tableName=b;this._where=
null}function o(a,b,c){this._statements=[];this._parameters=[];this._executor=a;this._statements.push(b);this._parameters.push(c||[])}function i(a){this._db=a}var G=3E3,m=3003,q=3011,t=f.async.deferred,d=f.u.str.format;b.extend(v.prototype,{execute:function(){return this._executor.add(this)._execute(function(a){return a[0]})}});b.extend(y.prototype,{_runTransaction:function(){return null!=this._tx},_addTask:function(a){this._tasks.push({deferred:a,result:null})},_setResult:function(a){this._getRecentTask().result=
a},_getRecentTask:function(){return this._tasks[this._tasks.length-1]},add:function(a){a instanceof v||c(3009);var b=this._getRecentTask();(!b||b.result)&&this._queue.push(a);return this},_execute:function(a){function b(){if(0===f.length){var h=a(e);c._setResult.apply(c,[h]);d.notify(h,c)}else{for(var i=f.shift(),l=i._statements,m=i._parameters,o=t().resolve().promise(),h=[],q=0,s=l.length;q<s;q++)(function(a,b){o=W(o,function(){var d=t();c._tx.executeSql(a,b,function(a,b){h.push(i._onComplete(b));
d.resolve()});return d.promise()})})(l[q],m[q]);W(o,function(){e.push(i._multiple?h:h[0]);b()})}}var c=this,d=this._df,f=this._queue,e=[];try{h(this._getRecentTask());this._addTask(d);for(var i=0,l=f.length;i<l;i++)f[i]._buildStatementAndParameters();this._runTransaction()?b():this._db.transaction(function(a){c._tx=a;b()},function(a){c._tx=null;for(var b=c._tasks,d=b.length-1;0<=d;d--)b[d].deferred.reject(X(3010,["SQLDB ERROR(code="+a.code+")",a.message],a))},function(){c._tx=null;for(var a=c._tasks,
b=a.length-1;0<=b;b--){var d=a[b];d.deferred.resolve(d.result)}})}catch(m){d.reject(m)}this._df=t();return d.promise()},execute:function(){return this._execute(function(a){return a})},promise:function(){return this._df.promise()}});H.prototype=new v;b.extend(H.prototype,{where:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Select","where"]);this._where=a;return this},orderBy:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Select","orderBy"]);this._orderBy=K(a);return this},_buildStatementAndParameters:function(){var a=
"",c=this._where,a=d("SELECT {0} FROM {1}",this._columns,this._tableName);if(b.isPlainObject(c)){var f=[];A(c,f,this._parameters);a+=" WHERE "+f.join(" AND ")}else x(c)&&(a+=" WHERE "+c);b.isArray(this._orderBy)&&(a+=" ORDER BY "+this._orderBy.join(", "));this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rows}});w.prototype=new v;b.extend(w.prototype,{_buildStatementAndParameters:function(){var a=this._values,c=this._statements,f=this._parameters;if(0===
a.length)c.push(d("INSERT INTO {0} DEFAULT VALUES",this._tableName)),f.push([]);else for(var h=0,i=a.length;h<i;h++){var e=a[h];if(null==e)c.push(d("INSERT INTO {0} DEFAULT VALUES",this._tableName)),f.push([]);else if(b.isPlainObject(e)){var l=[],m=[],o=[],q;for(q in e)l.push("?"),m.push(q),o.push(e[q]);c.push(d("INSERT INTO {0} ({1}) VALUES ({2})",this._tableName,m.join(", "),l.join(", ")));f.push(o)}}},_onComplete:function(a){return a.insertId}});C.prototype=new v;b.extend(C.prototype,{where:function(a){!b.isPlainObject(a)&&
!x(a)&&c(3004,["Update","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",c=this._where,a=this._values,f=[],h;for(h in a)f.push(h+" = ?"),this._parameters.push(a[h]);a=d("UPDATE {0} SET {1}",this._tableName,f.join(", "));b.isPlainObject(c)?(h=[],A(c,h,this._parameters),a+=" WHERE "+h.join(" AND ")):x(c)&&(a+=" WHERE "+c);this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});u.prototype=new v;b.extend(u.prototype,
{where:function(a){!b.isPlainObject(a)&&!x(a)&&c(3004,["Del","where"]);this._where=a;return this},_buildStatementAndParameters:function(){var a="",c=this._where,a=d("DELETE FROM {0}",this._tableName);if(b.isPlainObject(c)){var f=[];A(c,f,this._parameters);a+=" WHERE "+f.join(" AND ")}else x(c)&&(a+=" WHERE "+c);this._statements.push([a]);this._parameters=[this._parameters]},_onComplete:function(a){return a.rowsAffected}});o.prototype=new v;b.extend(o.prototype,{_buildStatementAndParameters:function(){},
_onComplete:function(a){return a}});b.extend(i.prototype,{select:function(a,d,f){x(a)||c(3001,"select");!b.isArray(d)&&"*"!==d&&c(3005,"select");return new H(this.transaction(f),a,d)},insert:function(a,d,f){x(a)||c(3001,"insert");null!=d&&!b.isArray(d)&&!b.isPlainObject(d)&&c(3006,"insert");return new w(this.transaction(f),a,d)},update:function(a,d,f){x(a)||c(3001,"update");b.isPlainObject(d)||c(3006,"update");return new C(this.transaction(f),a,d)},del:function(a,b){x(a)||c(3001,"del");return new u(this.transaction(b),
a)},sql:function(a,d,f){x(a)||c(3007,"sql");null!=d&&!b.isArray(d)&&c(3008,"sql");return new o(this.transaction(f),a,d)},transaction:function(a){void 0!=a&&!(a instanceof y)&&c(3002,"transaction");return a?a:new y(this._db)}});b.extend(l.prototype,{isSupported:!!window.openDatabase,open:function(a,b,c,d){if(this.isSupported)return a=openDatabase(a,b,c,d),new i(a)}});f.u.obj.expose("h5.api",{sqldb:new l})})();(function(){function c(b){this._storage=b}b.extend(c.prototype,{getLength:function(){return this._storage.length},
key:function(b){return this._storage.key(b)},getItem:function(b){b=this._storage.getItem(b);return null===b?null:f.u.obj.deserialize(b)},setItem:function(b,c){this._storage.setItem(b,f.u.obj.serialize(c))},removeItem:function(b){this._storage.removeItem(b)},clear:function(){this._storage.clear()},each:function(b){for(var c=this._storage,f=0,h=c.length;f<h;f++){var x=c.key(f);b(f,x,this.getItem(x))}}});f.u.obj.expose("h5.api.storage",{isSupported:window.localStorage?function(){try{return window.localStorage.setItem("__H5_WEB_STORAGE_CHECK__",
"ok"),window.localStorage.removeItem("__H5_WEB_STORAGE_CHECK__"),!0}catch(b){return!1}}():!1,local:new c(window.localStorage),session:new c(window.sessionStorage)})})()})(jQuery);